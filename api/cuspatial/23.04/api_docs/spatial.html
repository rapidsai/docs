<!DOCTYPE html>
<html lang="en-US"><head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator">

    <title>Spatial &mdash; cuspatial 23.04.00 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link as="font" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2">
<link as="font" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2">
<link as="font" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" rel="preload" type="font/woff2">

    <link href="../_static/pygments.css" rel="stylesheet" type="text/css">
    <link href="https://docs.rapids.ai/assets/css/custom.css" rel="stylesheet" type="text/css">
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94" rel="preload">
<link as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94" rel="preload">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script defer="defer" src="https://docs.rapids.ai/assets/js/custom.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api_docs/spatial';</script>
    <link href="../genindex.html" rel="index" title="Index">
    <link href="../search.html" rel="search" title="Search">
    <link href="trajectory.html" rel="next" title="Trajectory">
    <link href="index.html" rel="prev" title="API Reference">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="en-US" name="docsearch:language">
  <script id="rapids-selector-pixel-src" src="https://assets.adobedtm.com/5d4962a43b79/814eb6e9b4e1/launch-4bc07f1e0b0b.min.js"></script><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"></head>
  
  
  <body data-default-mode data-offset="180" data-spy="scroll" data-target="#bd-toc-nav">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input class="sidebar-toggle" id="__primary" name="__primary" type="checkbox">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input class="sidebar-toggle" id="__secondary" name="__secondary" type="checkbox">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form action="../search.html" class="bd-search d-flex align-items-center" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input aria-label="Search the docs ..." autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" id="search-input" name="q" placeholder="Search the docs ..." spellcheck="false" type="search">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">cuspatial 23.04.00 documentation</p>
  
</a>
    
  </div>

  
  <div class="navbar-header-items">
    <div class="ml-auto" id="navbar-center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p aria-label="Site Navigation" aria-level="1" class="sidebar-header-items__title" role="heading">
        Site Navigation
    </p>
    <ul class="navbar-nav" id="navbar-main-elements">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">
                        <no title>
                      </no></a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../developer_guide/index.html">
                        Developer Guide
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button aria-label="Search" class="btn btn-sm navbar-btn search-button search-button__button" data-toggle="tooltip" title="Search">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button aria-label="light/dark" class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" data-toggle="tooltip" title="light/dark">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul aria-label="Icon Links" class="navbar-nav" id="navbar-icon-links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a class="nav-link" data-toggle="tooltip" href="https://github.com/rapidsai/cuspatial" rel="noopener" target="_blank" title="GitHub"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a class="nav-link" data-toggle="tooltip" href="https://twitter.com/rapidsai" rel="noopener" target="_blank" title="Twitter"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button aria-label="Search" class="btn btn-sm navbar-btn search-button search-button__button" data-toggle="tooltip" title="Search">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar"><div id="rapids-pydata-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">cuspatial</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf-java/stable">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/index.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/cuspatial/stable">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/stable/api.html">dask-cuda</a><a class="rapids-selector__menu-item" href="/api/kvikio/stable/api.html">kvikio</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/libcuspatial/stable">libcuspatial</a><a class="rapids-selector__menu-item" href="/api/libkvikio/stable">libkvikio</a><a class="rapids-selector__menu-item" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/raft/stable">raft</a><a class="rapids-selector__menu-item" href="/api/rapids-cmake/stable/api.html">rapids-cmake</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">nightly (23.04)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/cuspatial/nightly">nightly (23.04)</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable">stable (23.02)</a><a class="rapids-selector__menu-item" href="/api/cuspatial/legacy">legacy (22.12)</a></div></div></div>
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p aria-label="Site Navigation" aria-level="1" class="sidebar-header-items__title" role="heading">
        Site Navigation
    </p>
    <ul class="navbar-nav" id="navbar-main-elements">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">
                        <no title>
                      </no></a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../developer_guide/index.html">
                        Developer Guide
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button aria-label="light/dark" class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" data-toggle="tooltip" title="light/dark">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul aria-label="Icon Links" class="navbar-nav" id="navbar-icon-links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a class="nav-link" data-toggle="tooltip" href="https://github.com/rapidsai/cuspatial" rel="noopener" target="_blank" title="GitHub"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a class="nav-link" data-toggle="tooltip" href="https://twitter.com/rapidsai" rel="noopener" target="_blank" title="Twitter"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav aria-label="Section navigation" class="bd-links" id="bd-docs-nav">
  <p aria-level="1" class="bd-links__title" role="heading">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Spatial</a></li>
<li class="toctree-l1"><a class="reference internal" href="trajectory.html">Trajectory</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html">Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="geopandas_compatibility.html">GeoPandas Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">IO</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main class="bd-main" id="main-content">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="spatial">
<h1>Spatial<a class="headerlink" href="#spatial" title="Permalink to this heading">#</a></h1>
<p>Functions that operate on spatial data.</p>
<section id="spatial-indexing-functions">
<h2>Spatial Indexing Functions<a class="headerlink" href="#spatial-indexing-functions" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.quadtree_on_points">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">quadtree_on_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.quadtree_on_points" title="Permalink to this definition">#</a></dt>
<dd><p>Construct a quadtree from a set of points for a given area-of-interest
bounding box.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xs</strong></dt><dd><p>Column of x-coordinates for each point.</p>
</dd>
<dt><strong>ys</strong></dt><dd><p>Column of y-coordinates for each point.</p>
</dd>
<dt><strong>x_min</strong></dt><dd><p>The lower-left x-coordinate of the area of interest bounding box.</p>
</dd>
<dt><strong>x_max</strong></dt><dd><p>The upper-right x-coordinate of the area of interest bounding box.</p>
</dd>
<dt><strong>y_min</strong></dt><dd><p>The lower-left y-coordinate of the area of interest bounding box.</p>
</dd>
<dt><strong>y_max</strong></dt><dd><p>The upper-right y-coordinate of the area of interest bounding box.</p>
</dd>
<dt><strong>scale</strong></dt><dd><p>Scale to apply to each point&rsquo;s distance from <code class="docutils literal notranslate"><span class="pre">(x_min,</span> <span class="pre">y_min)</span></code>.</p>
</dd>
<dt><strong>max_depth</strong></dt><dd><p>Maximum quadtree depth.</p>
</dd>
<dt><strong>max_size</strong></dt><dd><p>Maximum number of points allowed in a node before it&rsquo;s split into
4 leaf nodes.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">tuple (cudf.Series, cudf.DataFrame)</span></dt><dd><dl>
<dt>keys_to_points<span class="classifier">cudf.Series(dtype=np.int32)</span></dt><dd><p>A column of sorted keys to original point indices</p>
</dd>
<dt>quadtree<span class="classifier">cudf.DataFrame</span></dt><dd><p>A complete quadtree for the set of input points</p>
<dl>
<dt>key<span class="classifier">cudf.Series(dtype=np.int32)</span></dt><dd><p>An int32 column of quadrant keys</p>
</dd>
<dt>level<span class="classifier">cudf.Series(dtype=np.int8)</span></dt><dd><p>An int8 column of quadtree levels</p>
</dd>
<dt>is_internal_node<span class="classifier">cudf.Series(dtype=np.bool_)</span></dt><dd><p>A boolean column indicating whether the node is a quad or leaf</p>
</dd>
<dt>length<span class="classifier">cudf.Series(dtype=np.int32)</span></dt><dd><p>If this is a non-leaf quadrant (i.e. <code class="docutils literal notranslate"><span class="pre">is_internal_node</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code>), this column&rsquo;s value is the number of children in
the non-leaf quadrant.</p>
<p>Otherwise this column&rsquo;s value is the number of points
contained in the leaf quadrant.</p>
</dd>
<dt>offset<span class="classifier">cudf.Series(dtype=np.int32)</span></dt><dd><p>If this is a non-leaf quadrant (i.e. <code class="docutils literal notranslate"><span class="pre">is_internal_node</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code>), this column&rsquo;s value is the position of the non-leaf
quadrant&rsquo;s first child.</p>
<p>Otherwise this column&rsquo;s value is the position of the leaf
quadrant&rsquo;s first point.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Swaps <code class="docutils literal notranslate"><span class="pre">min_x</span></code> and <code class="docutils literal notranslate"><span class="pre">max_x</span></code> if <code class="docutils literal notranslate"><span class="pre">min_x</span> <span class="pre">&gt;</span> <span class="pre">max_x</span></code></p></li>
<li><p>Swaps <code class="docutils literal notranslate"><span class="pre">min_y</span></code> and <code class="docutils literal notranslate"><span class="pre">max_y</span></code> if <code class="docutils literal notranslate"><span class="pre">min_y</span> <span class="pre">&gt;</span> <span class="pre">max_y</span></code></p></li>
<li><p>2D coordinates are converted into a 1D Morton code by dividing each x/y</p></li>
</ul>
<p>by the <code class="docutils literal notranslate"><span class="pre">scale</span></code>: (<code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">-</span> <span class="pre">min_x)</span> <span class="pre">/</span> <span class="pre">scale</span></code> and <code class="docutils literal notranslate"><span class="pre">(y</span> <span class="pre">-</span> <span class="pre">min_y)</span> <span class="pre">/</span> <span class="pre">scale</span></code>).</p>
<ul class="simple">
<li><p><cite>max_depth</cite> should be less than 16, since Morton codes are represented</p></li>
</ul>
<p>as <cite>uint32_t</cite>. The eventual number of levels may be less than <cite>max_depth</cite>
if the number of points is small or <cite>max_size</cite> is large.</p>
<ul class="simple">
<li><p>All intermediate quadtree nodes will have fewer than <cite>max_size</cite> number of</p></li>
</ul>
<p>points. Leaf nodes are permitted (but not guaranteed) to have &gt;= <cite>max_size</cite>
number of points.</p>
<p class="rubric">Examples</p>
<p>An example of selecting the <code class="docutils literal notranslate"><span class="pre">max_size</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> based on input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">cudf</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="go">        "x": cudf.Series(np.random.normal(size=120)) * 500,</span>
<span class="go">        "y": cudf.Series(np.random.normal(size=120)) * 500,</span>
<span class="go">    })</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">max_depth</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_size</span> <span class="o">=</span> <span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_x</span><span class="p">,</span> <span class="n">min_y</span><span class="p">,</span> <span class="n">max_x</span><span class="p">,</span> <span class="n">max_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="s2">"x"</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
<span class="go">                                  points["y"].min(),</span>
<span class="go">                                  points["x"].max(),</span>
<span class="go">                                  points["y"].max())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_x</span> <span class="o">-</span> <span class="n">min_x</span><span class="p">,</span> <span class="n">max_y</span> <span class="o">-</span> <span class="n">min_y</span><span class="p">)</span> <span class="o">//</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">max_depth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>
<span class="go">        "max_size:   " + str(max_size) + "\n"</span>
<span class="go">        "num_points: " + str(len(points)) + "\n"</span>
<span class="go">        "min_x:      " + str(min_x) + "\n"</span>
<span class="go">        "max_x:      " + str(max_x) + "\n"</span>
<span class="go">        "min_y:      " + str(min_y) + "\n"</span>
<span class="go">        "max_y:      " + str(max_y) + "\n"</span>
<span class="go">        "scale:      " + str(scale) + "\n"</span>
<span class="go">    )</span>
<span class="go">max_size:   50</span>
<span class="go">num_points: 120</span>
<span class="go">min_x:      -1577.4949079170394</span>
<span class="go">max_x:      1435.877311993804</span>
<span class="go">min_y:      -1412.7015761122134</span>
<span class="go">max_y:      1492.572387431971</span>
<span class="go">scale:      301.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_point</span><span class="p">,</span> <span class="n">quadtree</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">quadtree_on_points</span><span class="p">(</span>
<span class="go">        points["x"],</span>
<span class="go">        points["y"],</span>
<span class="go">        min_x,</span>
<span class="go">        max_x,</span>
<span class="go">        min_y,</span>
<span class="go">        max_y,</span>
<span class="go">        scale, max_depth, max_size</span>
<span class="go">    )</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quadtree</span><span class="p">)</span>
<span class="go">    key  level  is_internal_node  length  offset</span>
<span class="go">0     0      0             False      15       0</span>
<span class="go">1     1      0             False      27      15</span>
<span class="go">2     2      0             False      12      42</span>
<span class="go">3     3      0              True       4       8</span>
<span class="go">4     4      0             False       5     106</span>
<span class="go">5     6      0             False       6     111</span>
<span class="go">6     9      0             False       2     117</span>
<span class="go">7    12      0             False       1     119</span>
<span class="go">8    12      1             False      22      54</span>
<span class="go">9    13      1             False      18      76</span>
<span class="go">10   14      1             False       9      94</span>
<span class="go">11   15      1             False       3     103</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">key_to_point</span><span class="p">)</span>
<span class="go">0       63</span>
<span class="go">1       20</span>
<span class="go">2       33</span>
<span class="go">3       66</span>
<span class="go">4       19</span>
<span class="go">    ...</span>
<span class="go">115    113</span>
<span class="go">116      3</span>
<span class="go">117     78</span>
<span class="go">118     98</span>
<span class="go">119     24</span>
<span class="go">Length: 120, dtype: int32</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="spatial-join-functions">
<h2>Spatial Join Functions<a class="headerlink" href="#spatial-join-functions" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.point_in_polygon">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">point_in_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_points_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_points_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_ring_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_points_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_points_y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.point_in_polygon" title="Permalink to this definition">#</a></dt>
<dd><p>Compute from a set of points and a set of polygons which points fall
within which polygons. Note that <cite>polygons_(x,y)</cite> must be specified as
closed polygons: the first and last coordinate of each polygon must be
the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>test_points_x</strong></dt><dd><p>x-coordinate of test points</p>
</dd>
<dt><strong>test_points_y</strong></dt><dd><p>y-coordinate of test points</p>
</dd>
<dt><strong>poly_offsets</strong></dt><dd><p>beginning index of the first ring in each polygon</p>
</dd>
<dt><strong>poly_ring_offsets</strong></dt><dd><p>beginning index of the first point in each ring</p>
</dd>
<dt><strong>poly_points_x</strong></dt><dd><p>x closed-coordinate of polygon points</p>
</dd>
<dt><strong>poly_points_y</strong></dt><dd><p>y closed-coordinate of polygon points</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>A DataFrame of boolean values indicating whether each point falls
within each polygon.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>input Series x and y will not be index aligned, but computed as</p></li>
</ul>
<p>sequential arrays.</p>
<ul class="simple">
<li><p>poly_ring_offsets must contain only the rings that make up the polygons</p></li>
</ul>
<p>indexed by poly_offsets. If there are rings in poly_ring_offsets that
are not part of the polygons in poly_offsets, results are likely to be
incorrect and behavior is undefined.</p>
<p class="rubric">Examples</p>
<p>Test whether 3 points fall within either of two polygons</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">point_in_polygon</span><span class="p">(</span>
<span class="go">    [0, -8, 6.0],                             # test_points_x</span>
<span class="go">    [0, -8, 6.0],                             # test_points_y</span>
<span class="go">    cudf.Series([0, 1], index=['nyc', 'hudson river']), # poly_offsets</span>
<span class="go">    [0, 3],                                   # ring_offsets</span>
<span class="go">    [-10, 5, 5, -10, 0, 10, 10, 0],           # poly_points_x</span>
<span class="go">    [-10, -10, 5, 5, 0, 0, 10, 10],           # poly_points_y</span>
<span class="go">)</span>
<span class="go"># The result of point_in_polygon is a DataFrame of Boolean</span>
<span class="go"># values indicating whether each point (rows) falls within</span>
<span class="go"># each polygon (columns).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">            nyc            hudson river</span>
<span class="go">0          True          True</span>
<span class="go">1          True         False</span>
<span class="go">2         False          True</span>
<span class="go"># Point 0: (0, 0) falls in both polygons</span>
<span class="go"># Point 1: (-8, -8) falls in the first polygon</span>
<span class="go"># Point 2: (6.0, 6.0) falls in the second polygon</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.quadtree_point_in_polygon">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">quadtree_point_in_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly_quad_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadtree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_points_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_points_y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.quadtree_point_in_polygon" title="Permalink to this definition">#</a></dt>
<dd><p>Test whether the specified points are inside any of the specified
polygons.</p>
<p>Uses the table of (polygon, quadrant) pairs returned by
<code class="docutils literal notranslate"><span class="pre">cuspatial.join_quadtree_and_bounding_boxes</span></code> to ensure only the points
in the same quadrant as each polygon are tested for intersection.</p>
<p>This pre-filtering can dramatically reduce number of points tested per
polygon, enabling faster intersection-testing at the expense of extra
memory allocated to store the quadtree and sorted point_indices.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>poly_quad_pairs: cudf.DataFrame</strong></dt><dd><p>Table of (polygon, quadrant) index pairs returned by
<code class="docutils literal notranslate"><span class="pre">cuspatial.join_quadtree_and_bounding_boxes</span></code>.</p>
</dd>
<dt><strong>quadtree</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>A complete quadtree for a given area-of-interest bounding box.</p>
</dd>
<dt><strong>point_indices</strong><span class="classifier">cudf.Series</span></dt><dd><p>Sorted point indices returned by <code class="docutils literal notranslate"><span class="pre">cuspatial.quadtree_on_points</span></code></p>
</dd>
<dt><strong>points_x</strong><span class="classifier">cudf.Series</span></dt><dd><p>x-coordinates of points used to construct the quadtree.</p>
</dd>
<dt><strong>points_y</strong><span class="classifier">cudf.Series</span></dt><dd><p>y-coordinates of points used to construct the quadtree.</p>
</dd>
<dt><strong>poly_offsets</strong><span class="classifier">cudf.Series</span></dt><dd><p>Begin index of the first ring in each polygon.</p>
</dd>
<dt><strong>ring_offsets</strong><span class="classifier">cudf.Series</span></dt><dd><p>Begin index of the first point in each ring.</p>
</dd>
<dt><strong>poly_points_x</strong><span class="classifier">cudf.Series</span></dt><dd><p>Polygon point x-coodinates.</p>
</dd>
<dt><strong>poly_points_y</strong><span class="classifier">cudf.Series</span></dt><dd><p>Polygon point y-coodinates.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>Indices for each intersecting point and polygon pair.</p>
<dl class="simple">
<dt>polygon_index<span class="classifier">cudf.Series</span></dt><dd><p>Index of containing polygon.</p>
</dd>
<dt>point_index<span class="classifier">cudf.Series</span></dt><dd><p>Index of contained point. This index refers to <code class="docutils literal notranslate"><span class="pre">point_indices</span></code>,
so it is an index to an index.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.quadtree_point_to_nearest_linestring">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">quadtree_point_to_nearest_linestring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linestring_quad_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadtree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestring_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestring_points_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestring_points_y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.quadtree_point_to_nearest_linestring" title="Permalink to this definition">#</a></dt>
<dd><p>Finds the nearest linestring to each point in a quadrant, and computes
the distances between each point and linestring.</p>
<p>Uses the table of (linestring, quadrant) pairs returned by
<code class="docutils literal notranslate"><span class="pre">cuspatial.join_quadtree_and_bounding_boxes</span></code> to ensure distances are
computed only for the points in the same quadrant as each linestring.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>linestring_quad_pairs: cudf.DataFrame</strong></dt><dd><p>Table of (linestring, quadrant) index pairs returned by
<code class="docutils literal notranslate"><span class="pre">cuspatial.join_quadtree_and_bounding_boxes</span></code>.</p>
</dd>
<dt><strong>quadtree</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>A complete quadtree for a given area-of-interest bounding box.</p>
</dd>
<dt><strong>point_indices</strong><span class="classifier">cudf.Series</span></dt><dd><p>Sorted point indices returned by <code class="docutils literal notranslate"><span class="pre">cuspatial.quadtree_on_points</span></code></p>
</dd>
<dt><strong>points_x</strong><span class="classifier">cudf.Series</span></dt><dd><p>x-coordinates of points used to construct the quadtree.</p>
</dd>
<dt><strong>points_y</strong><span class="classifier">cudf.Series</span></dt><dd><p>y-coordinates of points used to construct the quadtree.</p>
</dd>
<dt><strong>linestring_offsets</strong><span class="classifier">cudf.Series</span></dt><dd><p>Begin index of the first point in each linestring.</p>
</dd>
<dt><strong>poly_points_x</strong><span class="classifier">cudf.Series</span></dt><dd><p>Linestring point x-coordinates.</p>
</dd>
<dt><strong>poly_points_y</strong><span class="classifier">cudf.Series</span></dt><dd><p>Linestring point y-coordinates.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>Indices for each point and its nearest linestring, and the distance
between the two.</p>
<dl class="simple">
<dt>point_index<span class="classifier">cudf.Series</span></dt><dd><p>Index of point. This index refers to <code class="docutils literal notranslate"><span class="pre">point_indices</span></code>, so it is
an index to an index.</p>
</dd>
<dt>linestring_index<span class="classifier">cudf.Series</span></dt><dd><p>Index of the nearest linestring to the point.</p>
</dd>
<dt>distance<span class="classifier">cudf.Series</span></dt><dd><p>Distance between point and its nearest linestring.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.join_quadtree_and_bounding_boxes">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">join_quadtree_and_bounding_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quadtree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounding_boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.join_quadtree_and_bounding_boxes" title="Permalink to this definition">#</a></dt>
<dd><p>Search a quadtree for polygon or linestring bounding box intersections.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>quadtree</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>A complete quadtree for a given area-of-interest bounding box.</p>
</dd>
<dt><strong>bounding_boxes</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>Minimum bounding boxes for a set of polygons or linestrings</p>
</dd>
<dt><strong>x_min</strong></dt><dd><p>The lower-left x-coordinate of the area of interest bounding box</p>
</dd>
<dt><strong>x_max</strong></dt><dd><p>The upper-right x-coordinate of the area of interest bounding box</p>
</dd>
<dt><strong>min_y</strong></dt><dd><p>The lower-left y-coordinate of the area of interest bounding box</p>
</dd>
<dt><strong>max_y</strong></dt><dd><p>The upper-right y-coordinate of the area of interest bounding box</p>
</dd>
<dt><strong>scale</strong></dt><dd><p>Scale to apply to each point&rsquo;s distance from <code class="docutils literal notranslate"><span class="pre">(x_min,</span> <span class="pre">y_min)</span></code></p>
</dd>
<dt><strong>max_depth</strong></dt><dd><p>Maximum quadtree depth at which to stop testing for intersections</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>Indices for each intersecting bounding box and leaf quadrant.</p>
<dl class="simple">
<dt>bbox_offset<span class="classifier">cudf.Series</span></dt><dd><p>Indices for each bbox that intersects with the quadtree.</p>
</dd>
<dt>quad_offset<span class="classifier">cudf.Series</span></dt><dd><p>Indices for each leaf quadrant intersecting with a poly bbox.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Swaps <code class="docutils literal notranslate"><span class="pre">min_x</span></code> and <code class="docutils literal notranslate"><span class="pre">max_x</span></code> if <code class="docutils literal notranslate"><span class="pre">min_x</span> <span class="pre">&gt;</span> <span class="pre">max_x</span></code></p></li>
<li><p>Swaps <code class="docutils literal notranslate"><span class="pre">min_y</span></code> and <code class="docutils literal notranslate"><span class="pre">max_y</span></code> if <code class="docutils literal notranslate"><span class="pre">min_y</span> <span class="pre">&gt;</span> <span class="pre">max_y</span></code></p></li>
</ul>
</dd></dl>

</section>
<section id="measurement-functions">
<h2>Measurement Functions<a class="headerlink" href="#measurement-functions" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.directed_hausdorff_distance">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">directed_hausdorff_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space_offsets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.directed_hausdorff_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the directed Hausdorff distances between all pairs of
spaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xs</strong></dt><dd><p>column of x-coordinates</p>
</dd>
<dt><strong>ys</strong></dt><dd><p>column of y-coordinates</p>
</dd>
<dt><strong>space_offsets</strong></dt><dd><p>beginning index of each space, plus the last space&rsquo;s end offset.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>The pairwise directed distance matrix with one row and one
column per input space; the value at row i, column j represents the
hausdorff distance from space i to space j.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The directed Hausdorff distance from one space to another is the greatest
of all the distances between any point in the first space to the closest
point in the second.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Hausdorff_distance">Wikipedia</a></p>
<p>Consider a pair of lines on a grid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>     <span class="p">:</span>
     <span class="n">x</span>
<span class="o">-----</span><span class="n">xyy</span><span class="o">---</span>
     <span class="p">:</span>
     <span class="p">:</span>
</pre></div>
</div>
<p>x<sub>0</sub> = (0, 0), x<sub>1</sub> = (0, 1)</p>
<p>y<sub>0</sub> = (1, 0), y<sub>1</sub> = (2, 0)</p>
<p>x<sub>0</sub> is the closest point in <code class="docutils literal notranslate"><span class="pre">x</span></code> to <code class="docutils literal notranslate"><span class="pre">y</span></code>. The distance from
x<sub>0</sub> to the farthest point in <code class="docutils literal notranslate"><span class="pre">y</span></code> is 2.</p>
<p>y<sub>0</sub> is the closest point in <code class="docutils literal notranslate"><span class="pre">y</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code>. The distance from
y<sub>0</sub> to the farthest point in <code class="docutils literal notranslate"><span class="pre">x</span></code> is 1.414.</p>
<p>Compute the directed hausdorff distances between a set of spaces</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">directed_hausdorff_distance</span><span class="p">(</span>
<span class="go">        [0, 1, 0, 0], # xs</span>
<span class="go">        [0, 0, 1, 2], # ys</span>
<span class="go">        [0, 2],    # space_offsets</span>
<span class="go">    )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">         0         1</span>
<span class="go">    0  0.0  1.414214</span>
<span class="go">    1  2.0  0.000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.haversine_distance">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">haversine_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1_lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1_lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2_lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2_lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.haversine_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the haversine distances in kilometers between an arbitrary
list of lon/lat pairs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>p1_lon</strong></dt><dd><p>longitude of first set of coords</p>
</dd>
<dt><strong>p1_lat</strong></dt><dd><p>latitude of first set of coords</p>
</dd>
<dt><strong>p2_lon</strong></dt><dd><p>longitude of second set of coords</p>
</dd>
<dt><strong>p2_lat</strong></dt><dd><p>latitude of second set of coords</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">cudf.Series</span></dt><dd><p>The distance between all pairs of lon/lat coordinates</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.pairwise_point_distance">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">pairwise_point_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">points2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.pairwise_point_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute shortest distance between pairs of points and multipoints</p>
<p>Currently <cite>points1</cite> and <cite>points2</cite> must contain either only points or
multipoints. Mixing points and multipoints in the same series is
unsupported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>points1</strong><span class="classifier">GeoSeries</span></dt><dd><p>A GeoSeries of (multi)points</p>
</dd>
<dt><strong>points2</strong><span class="classifier">GeoSeries</span></dt><dd><p>A GeoSeries of (multi)points</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>distance</strong><span class="classifier">cudf.Series</span></dt><dd><p>the distance between each pair of (multi)points</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Point</span><span class="p">,</span> <span class="n">MultiPoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">MultiPoint</span><span class="p">([(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)]),</span>
<span class="gp">... </span>    <span class="n">MultiPoint</span><span class="p">([(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)])</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">Point</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cuspatial</span><span class="o">.</span><span class="n">pairwise_point_distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
<span class="go">0    2.236068</span>
<span class="go">1    0.500000</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.pairwise_linestring_distance">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">pairwise_linestring_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multilinestrings1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">multilinestrings2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.pairwise_linestring_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute shortest distance between pairs of linestrings</p>
<p>The shortest distance between two linestrings is defined as the shortest
distance between all pairs of segments of the two linestrings. If any of
the segments intersect, the distance is 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>multilinestrings1</strong><span class="classifier">GeoSeries</span></dt><dd><p>A GeoSeries of (multi)linestrings</p>
</dd>
<dt><strong>multilinestrings2</strong><span class="classifier">GeoSeries</span></dt><dd><p>A GeoSeries of (multi)linestrings</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>distance</strong><span class="classifier">cudf.Series</span></dt><dd><p>the distance between each pair of linestrings</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">MultiLineString</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls1</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">LineString</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]),</span>
<span class="gp">... </span>    <span class="n">LineString</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls2</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">MultiLineString</span><span class="p">([</span>
<span class="gp">... </span>        <span class="n">LineString</span><span class="p">([(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]),</span>
<span class="gp">... </span>        <span class="n">LineString</span><span class="p">([(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)])</span>
<span class="gp">... </span>    <span class="p">]),</span>
<span class="gp">... </span>    <span class="n">MultiLineString</span><span class="p">([</span>
<span class="gp">... </span>        <span class="n">LineString</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)]),</span>
<span class="gp">... </span>        <span class="n">LineString</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">... </span>    <span class="p">])</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cuspatial</span><span class="o">.</span><span class="n">pairwise_linestring_distance</span><span class="p">(</span><span class="n">ls1</span><span class="p">,</span> <span class="n">ls2</span><span class="p">)</span>
<span class="go">0    1.000000</span>
<span class="go">1    1.414214</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.pairwise_point_linestring_distance">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">pairwise_point_linestring_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestrings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.pairwise_point_linestring_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute distance between pairs of (multi)points and (multi)linestrings</p>
<p>The distance between a (multi)point and a (multi)linestring
is defined as the shortest distance between every point in the
multipoint and every line segment in the multilinestring.</p>
<p>This algorithm computes distance pairwise. The ith row in the result is
the distance between the ith (multi)point in <cite>points</cite> and the ith
(multi)linestring in <cite>linestrings</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>points</strong><span class="classifier">GeoSeries</span></dt><dd><p>The (multi)points to compute the distance from.</p>
</dd>
<dt><strong>linestrings</strong><span class="classifier">GeoSeries</span></dt><dd><p>The (multi)linestrings to compute the distance from.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>distance</strong><span class="classifier">cudf.Series</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The input <cite>GeoSeries</cite> must contain a single type geometry.
For example, <cite>points</cite> series cannot contain both points and polygons.
Currently, it is unsupported that <cite>points</cite> contains both points and
multipoints.</p>
<p class="rubric">Examples</p>
<p><strong>Compute distances between point array to linestring arrays</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">Point</span><span class="p">,</span> <span class="n">MultiPoint</span><span class="p">,</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">MultiLineString</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span><span class="o">,</span> <span class="nn">cuspatial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">from_geopandas</span><span class="p">(</span><span class="n">gpd</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">Point</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
<span class="gp">... </span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlines</span> <span class="o">=</span> <span class="n">cuspatial</span><span class="o">.</span><span class="n">from_geopandas</span><span class="p">(</span><span class="n">gpd</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>       <span class="n">LineString</span><span class="p">([</span><span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)]),</span>
<span class="gp">... </span>       <span class="n">LineString</span><span class="p">([</span><span class="n">Point</span><span class="p">(</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="n">Point</span><span class="p">(</span><span class="mf">11.21</span><span class="p">,</span> <span class="mf">9.48</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="n">Point</span><span class="p">(</span><span class="mf">7.1</span><span class="p">,</span> <span class="mf">12.5</span><span class="p">)]),</span>
<span class="gp">... </span>       <span class="n">LineString</span><span class="p">([</span><span class="n">Point</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)]),</span>
<span class="gp">... </span>    <span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cuspatial</span><span class="o">.</span><span class="n">pairwise_point_linestring_distance</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">mlines</span><span class="p">)</span>
<span class="go">0     0.707107</span>
<span class="go">1    11.401754</span>
<span class="go">2     2.121320</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p><strong>Compute distances between multipoint to multilinestring arrays</strong>
&gt;&gt;&gt; # 3 pairs of multi points containing 3 points each
&gt;&gt;&gt; ptsdata = [
&hellip;         [[9, 7], [0, 6], [7, 2]],
&hellip;         [[5, 8], [5, 7], [6, 0]],
&hellip;         [[8, 8], [6, 7], [4, 1]],
&hellip;     ]
&gt;&gt;&gt; # 3 pairs of multi linestrings containing 2 linestrings each
&gt;&gt;&gt; linesdata = [
&hellip;         [
&hellip;             [[86, 47], [31, 17], [84, 16], [14, 63]],
&hellip;             [[14, 36], [90, 73], [72, 66], [0, 5]],
&hellip;         ],
&hellip;         [
&hellip;             [[36, 90], [29, 31], [91, 70], [25, 78]],
&hellip;             [[61, 64], [89, 20], [94, 46], [37, 44]],
&hellip;         ],
&hellip;         [
&hellip;             [[60, 76], [29, 60], [53, 87], [8, 18]],
&hellip;             [[0, 16], [79, 14], [3, 6], [98, 89]],
&hellip;         ],
&hellip;     ]
&gt;&gt;&gt; pts = cuspatial.from_geopandas(
&hellip;     gpd.GeoSeries(map(MultiPoint, ptsdata))
&hellip; )
&gt;&gt;&gt; lines = cuspatial.from_geopandas(
&hellip;     gpd.GeoSeries(map(MultiLineString, linesdata))
&hellip; )
&gt;&gt;&gt; cuspatial.pairwise_point_linestring_distance(pts, lines)
0     0.762984
1    33.241540
2     0.680451
dtype: float64</p>
</dd></dl>

</section>
<section id="nearest-points-function">
<h2>Nearest Points Function<a class="headerlink" href="#nearest-points-function" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.pairwise_point_linestring_nearest_points">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">pairwise_point_linestring_nearest_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestrings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoSeries" title="cuspatial.core.geoseries.GeoSeries"><span class="pre">GeoSeries</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><a class="reference internal" href="geopandas_compatibility.html#cuspatial.GeoDataFrame" title="cuspatial.core.geodataframe.GeoDataFrame"><span class="pre">GeoDataFrame</span></a></span></span><a class="headerlink" href="#cuspatial.pairwise_point_linestring_nearest_points" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the nearest points between two GeoSeries of points and
linestrings.</p>
<p>Multipoints and Multilinestrings are also supported. With restriction that
the <cite>points</cite> series must contain either only points or only multipoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>points</strong><span class="classifier">GeoSeries</span></dt><dd><p>A GeoSeries of points. Currently either only a series of points or
a series of multipoints is supported.</p>
</dd>
<dt><strong>linestrings</strong><span class="classifier">GeoSeries</span></dt><dd><p>A GeoSeries of linestrings or multilinestrings.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>GeoDataFrame</dt><dd><p>A GeoDataFrame with four columns.</p>
<ul class="simple">
<li><p>&ldquo;point_geometry_id&rdquo; contains index of the nearest point in the row.
If <cite>points</cite> consists of single-points, it is always 0.</p></li>
<li><p>&ldquo;linestring_geometry_id&rdquo; contains the index of the linestring in the
multilinestring that contains the nearest point.</p></li>
<li><p>&ldquo;segment_id&rdquo; contains the index of the segment in the linestring that
contains the nearest point.</p></li>
<li><p>&ldquo;geometry&rdquo; contains the points of the nearest
point on the linestring.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="bounding-boxes">
<h2>Bounding Boxes<a class="headerlink" href="#bounding-boxes" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.polygon_bounding_boxes">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">polygon_bounding_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.polygon_bounding_boxes" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the minimum bounding-boxes for a set of polygons.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>poly_offsets</strong></dt><dd><p>Begin indices of the first ring in each polygon (i.e. prefix-sum)</p>
</dd>
<dt><strong>ring_offsets</strong></dt><dd><p>Begin indices of the first point in each ring (i.e. prefix-sum)</p>
</dd>
<dt><strong>xs</strong></dt><dd><p>Polygon point x-coordinates</p>
</dd>
<dt><strong>ys</strong></dt><dd><p>Polygon point y-coordinates</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>minimum bounding boxes for each polygon</p>
<dl class="simple">
<dt>x_min<span class="classifier">cudf.Series</span></dt><dd><p>the minimum x-coordinate of each bounding box</p>
</dd>
<dt>y_min<span class="classifier">cudf.Series</span></dt><dd><p>the minimum y-coordinate of each bounding box</p>
</dd>
<dt>x_max<span class="classifier">cudf.Series</span></dt><dd><p>the maximum x-coordinate of each bounding box</p>
</dd>
<dt>y_max<span class="classifier">cudf.Series</span></dt><dd><p>the maximum y-coordinate of each bounding box</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.linestring_bounding_boxes">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">linestring_bounding_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linestring_offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expansion_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.linestring_bounding_boxes" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the minimum bounding boxes for a set of linestrings.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>linestring_offsets</strong></dt><dd><p>Begin indices of the each linestring</p>
</dd>
<dt><strong>xs</strong></dt><dd><p>Linestring point x-coordinates</p>
</dd>
<dt><strong>ys</strong></dt><dd><p>Linestring point y-coordinates</p>
</dd>
<dt><strong>expansion_radius</strong></dt><dd><p>radius of each linestring point</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>minimum bounding boxes for each linestring</p>
<dl class="simple">
<dt>x_min<span class="classifier">cudf.Series</span></dt><dd><p>the minimum x-coordinate of each bounding box</p>
</dd>
<dt>y_min<span class="classifier">cudf.Series</span></dt><dd><p>the minimum y-coordinate of each bounding box</p>
</dd>
<dt>x_max<span class="classifier">cudf.Series</span></dt><dd><p>the maximum x-coordinate of each bounding box</p>
</dd>
<dt>y_max<span class="classifier">cudf.Series</span></dt><dd><p>the maximum y-coordinate of each bounding box</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="projection-functions">
<h2>Projection Functions<a class="headerlink" href="#projection-functions" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.sinusoidal_projection">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">sinusoidal_projection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.sinusoidal_projection" title="Permalink to this definition">#</a></dt>
<dd><p>Sinusoidal projection of longitude/latitude relative to origin to
Cartesian (x/y) coordinates in km.</p>
<p>Can be used to approximately convert longitude/latitude coordinates
to Cartesian coordinates given that all points are near the origin.
Error increases with distance from the origin. Results are scaled
relative to the size of the Earth in kilometers. See
<a class="reference external" href="https://en.wikipedia.org/wiki/Sinusoidal_projection">https://en.wikipedia.org/wiki/Sinusoidal_projection</a> for more detail.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>origin_lon</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">number</span></code></span></dt><dd><p>longitude offset  (this is subtracted from each input before
converting to x,y)</p>
</dd>
<dt><strong>origin_lat</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">number</span></code></span></dt><dd><p>latitude offset (this is subtracted from each input before
converting to x,y)</p>
</dd>
<dt><strong>input_lon</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></span></dt><dd><p>longitude coordinates to convert to x</p>
</dd>
<dt><strong>input_lat</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></span></dt><dd><p>latitude coordinates to convert to y</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><dl class="simple">
<dt>x<span class="classifier">cudf.Series</span></dt><dd><p>x-coordinate of the input relative to the size of the Earth in
kilometers.</p>
</dd>
<dt>y<span class="classifier">cudf.Series</span></dt><dd><p>y-coordinate of the input relative to the size of the Earth in
kilometers.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="spatial-filtering-functions">
<h2>Spatial Filtering Functions<a class="headerlink" href="#spatial-filtering-functions" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cuspatial.points_in_spatial_window">
<span class="sig-prename descclassname"><span class="pre">cuspatial.</span></span><span class="sig-name descname"><span class="pre">points_in_spatial_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cuspatial.points_in_spatial_window" title="Permalink to this definition">#</a></dt>
<dd><p>Return only the subset of coordinates that fall within a
rectangular window.</p>
<p>A point <cite>(x, y)</cite> is inside the query window if and only if
<code class="docutils literal notranslate"><span class="pre">min_x</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">max_x</span> <span class="pre">AND</span> <span class="pre">min_y</span> <span class="pre">&lt;</span> <span class="pre">y</span> <span class="pre">&lt;</span> <span class="pre">max_y</span></code></p>
<p>The window is specified by minimum and maximum x and y
coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>min_x</strong></dt><dd><p>lower x-coordinate of the query window</p>
</dd>
<dt><strong>max_x</strong></dt><dd><p>upper x-coordinate of the query window</p>
</dd>
<dt><strong>min_y</strong></dt><dd><p>lower y-coordinate of the query window</p>
</dd>
<dt><strong>max_y</strong></dt><dd><p>upper y-coordinate of the query window</p>
</dd>
<dt><strong>xs</strong></dt><dd><p>column of x-coordinates that may fall within the window</p>
</dd>
<dt><strong>ys</strong></dt><dd><p>column of y-coordinates that may fall within the window</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">cudf.DataFrame</span></dt><dd><p>subset of <cite>(x, y)</cite> pairs above that fall within the window</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Swaps <code class="docutils literal notranslate"><span class="pre">min_x</span></code> and <code class="docutils literal notranslate"><span class="pre">max_x</span></code> if <code class="docutils literal notranslate"><span class="pre">min_x</span> <span class="pre">&gt;</span> <span class="pre">max_x</span></code></p></li>
<li><p>Swaps <code class="docutils literal notranslate"><span class="pre">min_y</span></code> and <code class="docutils literal notranslate"><span class="pre">max_y</span></code> if <code class="docutils literal notranslate"><span class="pre">min_y</span> <span class="pre">&gt;</span> <span class="pre">max_y</span></code></p></li>
</ul>
</dd></dl>

</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class="prev-next-area">
  <a class="left-prev" href="index.html" id="prev-link" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">API Reference</p>
      </div>
  </a>
  <a class="right-next" href="trajectory.html" id="next-link" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Trajectory</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav class="page-toc" id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spatial-indexing-functions">
   Spatial Indexing Functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.quadtree_on_points">
     <code class="docutils literal notranslate">
      <span class="pre">
       quadtree_on_points()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spatial-join-functions">
   Spatial Join Functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.point_in_polygon">
     <code class="docutils literal notranslate">
      <span class="pre">
       point_in_polygon()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.quadtree_point_in_polygon">
     <code class="docutils literal notranslate">
      <span class="pre">
       quadtree_point_in_polygon()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.quadtree_point_to_nearest_linestring">
     <code class="docutils literal notranslate">
      <span class="pre">
       quadtree_point_to_nearest_linestring()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.join_quadtree_and_bounding_boxes">
     <code class="docutils literal notranslate">
      <span class="pre">
       join_quadtree_and_bounding_boxes()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#measurement-functions">
   Measurement Functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.directed_hausdorff_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       directed_hausdorff_distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.haversine_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       haversine_distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.pairwise_point_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       pairwise_point_distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.pairwise_linestring_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       pairwise_linestring_distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.pairwise_point_linestring_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       pairwise_point_linestring_distance()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nearest-points-function">
   Nearest Points Function
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.pairwise_point_linestring_nearest_points">
     <code class="docutils literal notranslate">
      <span class="pre">
       pairwise_point_linestring_nearest_points()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bounding-boxes">
   Bounding Boxes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.polygon_bounding_boxes">
     <code class="docutils literal notranslate">
      <span class="pre">
       polygon_bounding_boxes()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.linestring_bounding_boxes">
     <code class="docutils literal notranslate">
      <span class="pre">
       linestring_bounding_boxes()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#projection-functions">
   Projection Functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.sinusoidal_projection">
     <code class="docutils literal notranslate">
      <span class="pre">
       sinusoidal_projection()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spatial-filtering-functions">
   Spatial Filtering Functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuspatial.points_in_spatial_window">
     <code class="docutils literal notranslate">
      <span class="pre">
       points_in_spatial_window()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../_sources/api_docs/spatial.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2019-2023, NVIDIA.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">
        PyData Sphinx Theme
    </a>
    0.12.0.
</p>
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  
<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script><script id="rapids-selector-pixel-invocation" type="text/javascript">_satellite.pageBottom();</script></body></html>