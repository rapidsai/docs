<!-- HTML header for doxygen 1.8.20--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type">
<meta content="IE=9" http-equiv="X-UA-Compatible">
<meta content="Doxygen 1.8.20" name="generator">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>RMM: rmm::mr::tracking_resource_adaptor&lt; Upstream &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css">
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<!-- RAPIDS CUSTOM JS & CSS: START, Please add these two lines back after every version upgrade -->
<script defer="" src="https://docs.rapids.ai/assets/js/custom.js"></script>
<link href="https://docs.rapids.ai/assets/css/custom.css" rel="stylesheet">
<!-- RAPIDS CUSTOM JS & CSS: END -->
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" id="rapids-fa-tag" rel="stylesheet"><script id="rapids-selector-pixel-src" src="https://assets.adobedtm.com/5d4962a43b79/814eb6e9b4e1/launch-4bc07f1e0b0b.min.js"></script><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><div id="rapids-doxygen-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">librmm</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/index.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cudf-java/nightly">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/stable/api.html">dask-cuda</a><a class="rapids-selector__menu-item" href="/api/kvikio/stable/api.html">kvikio</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/libcuspatial/stable">libcuspatial</a><a class="rapids-selector__menu-item" href="/api/libkvikio/stable">libkvikio</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/raft/stable">raft</a><a class="rapids-selector__menu-item" href="/api/rapids-cmake/stable/api.html">rapids-cmake</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">stable (22.12)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/librmm/nightly/annotated.html">nightly (23.02)</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/librmm/stable/annotated.html">stable (22.12)</a><a class="rapids-selector__menu-item" href="/api/librmm/legacy/annotated.html">legacy (22.10)</a></div></div></div>

</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><b>rmm</b></li><li class="navelem"><b>mr</b></li><li class="navelem"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> |
<a href="#pub-types">Public Types</a> |
<a href="#pub-methods">Public Member Functions</a> |
<a href="classrmm_1_1mr_1_1tracking__resource__adaptor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rmm::mr::tracking_resource_adaptor&lt; Upstream &gt; Class Template Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Resource that uses <code>Upstream</code> to allocate memory and tracks allocations.  
 <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tracking__resource__adaptor_8hpp_source.html">tracking_resource_adaptor.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for rmm::mr::tracking_resource_adaptor&lt; Upstream &gt;:</div>
<div class="dyncontent">
<div class="center"><img alt="Inheritance graph" border="0" src="classrmm_1_1mr_1_1tracking__resource__adaptor__inherit__graph.png" usemap="#armm_1_1mr_1_1tracking__resource__adaptor_3_01Upstream_01_4_inherit__map"></div>
<map id="armm_1_1mr_1_1tracking__resource__adaptor_3_01Upstream_01_4_inherit__map" name="rmm_1_1mr_1_1tracking__resource__adaptor_3_01Upstream_01_4_inherit__map">
<area alt="" coords="5,95,208,136" shape="rect" title="Resource that uses Upstream to allocate memory and tracks allocations.">
<area alt="" coords="11,5,203,47" href="classrmm_1_1mr_1_1device__memory__resource.html" shape="rect" title="Base class for all libcudf device memory allocation.">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for rmm::mr::tracking_resource_adaptor&lt; Upstream &gt;:</div>
<div class="dyncontent">
<div class="center"><img alt="Collaboration graph" border="0" src="classrmm_1_1mr_1_1tracking__resource__adaptor__coll__graph.png" usemap="#armm_1_1mr_1_1tracking__resource__adaptor_3_01Upstream_01_4_coll__map"></div>
<map id="armm_1_1mr_1_1tracking__resource__adaptor_3_01Upstream_01_4_coll__map" name="rmm_1_1mr_1_1tracking__resource__adaptor_3_01Upstream_01_4_coll__map">
<area alt="" coords="5,95,208,136" shape="rect" title="Resource that uses Upstream to allocate memory and tracks allocations.">
<area alt="" coords="11,5,203,47" href="classrmm_1_1mr_1_1device__memory__resource.html" shape="rect" title="Base class for all libcudf device memory allocation.">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrmm_1_1mr_1_1tracking__resource__adaptor_1_1allocation__info.html">allocation_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Information stored about an allocation. Includes the size and a stack trace if the <code><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html" title="Resource that uses Upstream to allocate memory and tracks allocations.">tracking_resource_adaptor</a></code> was initialized to capture stacks.  <a href="structrmm_1_1mr_1_1tracking__resource__adaptor_1_1allocation__info.html#details">More...</a><br></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a670694e456dcae5eae9a8b2d61b5c397"><td align="right" class="memItemLeft" valign="top"><a id="a670694e456dcae5eae9a8b2d61b5c397"></a>
using&nbsp;</td><td class="memItemRight" valign="bottom"><b>read_lock_t</b> = std::shared_lock&lt; std::shared_timed_mutex &gt;</td></tr>
<tr class="separator:a670694e456dcae5eae9a8b2d61b5c397"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a6e5b9e16f8a5081b38fb603c855e7f4c"><td align="right" class="memItemLeft" valign="top"><a id="a6e5b9e16f8a5081b38fb603c855e7f4c"></a>
using&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_lock_t</b> = std::unique_lock&lt; std::shared_timed_mutex &gt;</td></tr>
<tr class="separator:a6e5b9e16f8a5081b38fb603c855e7f4c"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1468a4721e3aef90c8a7e8ae7c1ddb63"><td align="right" class="memItemLeft" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a1468a4721e3aef90c8a7e8ae7c1ddb63">tracking_resource_adaptor</a> (Upstream *upstream, bool capture_stacks=false)</td></tr>
<tr class="memdesc:a1468a4721e3aef90c8a7e8ae7c1ddb63"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a new tracking resource adaptor using <code>upstream</code> to satisfy allocation requests.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a1468a4721e3aef90c8a7e8ae7c1ddb63">More...</a><br></td></tr>
<tr class="separator:a1468a4721e3aef90c8a7e8ae7c1ddb63"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:aeb61af77b0afafc1dfdd977186f5bf5f"><td align="right" class="memItemLeft" valign="top"><a id="aeb61af77b0afafc1dfdd977186f5bf5f"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><b>tracking_resource_adaptor</b> (<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> const &amp;)=delete</td></tr>
<tr class="separator:aeb61af77b0afafc1dfdd977186f5bf5f"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:aad615c5be45952317b376c600538605a"><td align="right" class="memItemLeft" valign="top"><a id="aad615c5be45952317b376c600538605a"></a>
<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> const &amp;)=delete</td></tr>
<tr class="separator:aad615c5be45952317b376c600538605a"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a84c80dff904df572273e156981f94156"><td align="right" class="memItemLeft" valign="top"><a id="a84c80dff904df572273e156981f94156"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><b>tracking_resource_adaptor</b> (<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:a84c80dff904df572273e156981f94156"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:aa21c1701e04fd067b91c1c76e9c4d097"><td align="right" class="memItemLeft" valign="top"><a id="aa21c1701e04fd067b91c1c76e9c4d097"></a>
<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:aa21c1701e04fd067b91c1c76e9c4d097"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:ab8db48a4ec09d8320e6249c96f23970a"><td align="right" class="memItemLeft" valign="top">Upstream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#ab8db48a4ec09d8320e6249c96f23970a">get_upstream</a> () const noexcept</td></tr>
<tr class="memdesc:ab8db48a4ec09d8320e6249c96f23970a"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return pointer to the upstream resource.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#ab8db48a4ec09d8320e6249c96f23970a">More...</a><br></td></tr>
<tr class="separator:ab8db48a4ec09d8320e6249c96f23970a"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a40c082c925f47ef950d840e018db2737"><td align="right" class="memItemLeft" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a40c082c925f47ef950d840e018db2737">supports_streams</a> () const noexcept override</td></tr>
<tr class="memdesc:a40c082c925f47ef950d840e018db2737"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the upstream resource supports streams.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a40c082c925f47ef950d840e018db2737">More...</a><br></td></tr>
<tr class="separator:a40c082c925f47ef950d840e018db2737"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a320c93def56d9dbd8ac04574086fa349"><td align="right" class="memItemLeft" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a320c93def56d9dbd8ac04574086fa349">supports_get_mem_info</a> () const noexcept override</td></tr>
<tr class="memdesc:a320c93def56d9dbd8ac04574086fa349"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query whether the resource supports the get_mem_info API.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a320c93def56d9dbd8ac04574086fa349">More...</a><br></td></tr>
<tr class="separator:a320c93def56d9dbd8ac04574086fa349"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:acf0c2d6a5269b0e3b8f38cec015f0662"><td align="right" class="memItemLeft" valign="top">std::map&lt; void *, <a class="el" href="structrmm_1_1mr_1_1tracking__resource__adaptor_1_1allocation__info.html">allocation_info</a> &gt; const  &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#acf0c2d6a5269b0e3b8f38cec015f0662">get_outstanding_allocations</a> () const noexcept</td></tr>
<tr class="memdesc:acf0c2d6a5269b0e3b8f38cec015f0662"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the outstanding allocations map.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#acf0c2d6a5269b0e3b8f38cec015f0662">More...</a><br></td></tr>
<tr class="separator:acf0c2d6a5269b0e3b8f38cec015f0662"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a4e0080b11d7b81019246f2e36f1b3e69"><td align="right" class="memItemLeft" valign="top">std::size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a4e0080b11d7b81019246f2e36f1b3e69">get_allocated_bytes</a> () const noexcept</td></tr>
<tr class="memdesc:a4e0080b11d7b81019246f2e36f1b3e69"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query the number of bytes that have been allocated. Note that this can not be used to know how large of an allocation is possible due to both possible fragmentation and also internal page sizes and alignment that is not tracked by this allocator.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#a4e0080b11d7b81019246f2e36f1b3e69">More...</a><br></td></tr>
<tr class="separator:a4e0080b11d7b81019246f2e36f1b3e69"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:aaa72c3a87b4374b91e8f5ac13fc1752d"><td align="right" class="memItemLeft" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#aaa72c3a87b4374b91e8f5ac13fc1752d">get_outstanding_allocations_str</a> () const</td></tr>
<tr class="memdesc:aaa72c3a87b4374b91e8f5ac13fc1752d"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a string containing the outstanding allocation pointers, their size, and optionally the stack trace for when each pointer was allocated.  <a href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#aaa72c3a87b4374b91e8f5ac13fc1752d">More...</a><br></td></tr>
<tr class="separator:aaa72c3a87b4374b91e8f5ac13fc1752d"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:adae81547e8ea0e045b786d24b3162656"><td align="right" class="memItemLeft" valign="top"><a id="adae81547e8ea0e045b786d24b3162656"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html#adae81547e8ea0e045b786d24b3162656">log_outstanding_allocations</a> () const</td></tr>
<tr class="memdesc:adae81547e8ea0e045b786d24b3162656"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log any outstanding allocations via RMM_LOG_DEBUG. <br></td></tr>
<tr class="separator:adae81547e8ea0e045b786d24b3162656"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="inherit_header pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrmm_1_1mr_1_1device__memory__resource')"><img alt="-" src="closed.png">&nbsp;Public Member Functions inherited from <a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a></td></tr>
<tr class="memitem:acc4528bd5f95ca3cb85b9940217e0f83 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top"><a id="acc4528bd5f95ca3cb85b9940217e0f83"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><b>device_memory_resource</b> (<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> const &amp;)=default</td></tr>
<tr class="separator:acc4528bd5f95ca3cb85b9940217e0f83 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a8c8df497e0066c89fb5570aff38f231e inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top"><a id="a8c8df497e0066c89fb5570aff38f231e"></a>
<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> const &amp;)=default</td></tr>
<tr class="separator:a8c8df497e0066c89fb5570aff38f231e inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a21eb17658438dff037483606b4a56090 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top"><a id="a21eb17658438dff037483606b4a56090"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><b>device_memory_resource</b> (<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:a21eb17658438dff037483606b4a56090 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a6d6424210e67152eeff458712de59fe5 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top"><a id="a6d6424210e67152eeff458712de59fe5"></a>
<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:a6d6424210e67152eeff458712de59fe5 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a54b78031deb92654df581d496b9b8099 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html#a54b78031deb92654df581d496b9b8099">allocate</a> (std::size_t bytes, <a class="el" href="classrmm_1_1cuda__stream__view.html">cuda_stream_view</a> stream=<a class="el" href="classrmm_1_1cuda__stream__view.html">cuda_stream_view</a>{})</td></tr>
<tr class="memdesc:a54b78031deb92654df581d496b9b8099 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates memory of size at least <code>bytes</code>.  <a href="classrmm_1_1mr_1_1device__memory__resource.html#a54b78031deb92654df581d496b9b8099">More...</a><br></td></tr>
<tr class="separator:a54b78031deb92654df581d496b9b8099 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a8c0227abc75ee1804fe6f11726bd1ed1 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html#a8c0227abc75ee1804fe6f11726bd1ed1">deallocate</a> (void *ptr, std::size_t bytes, <a class="el" href="classrmm_1_1cuda__stream__view.html">cuda_stream_view</a> stream=<a class="el" href="classrmm_1_1cuda__stream__view.html">cuda_stream_view</a>{})</td></tr>
<tr class="memdesc:a8c0227abc75ee1804fe6f11726bd1ed1 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocate memory pointed to by <code>p</code>.  <a href="classrmm_1_1mr_1_1device__memory__resource.html#a8c0227abc75ee1804fe6f11726bd1ed1">More...</a><br></td></tr>
<tr class="separator:a8c0227abc75ee1804fe6f11726bd1ed1 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:aeaed913bfdd02266062b7880d5bb350f inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html#aeaed913bfdd02266062b7880d5bb350f">is_equal</a> (<a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html">device_memory_resource</a> const &amp;other) const noexcept</td></tr>
<tr class="memdesc:aeaed913bfdd02266062b7880d5bb350f inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare this resource to another.  <a href="classrmm_1_1mr_1_1device__memory__resource.html#aeaed913bfdd02266062b7880d5bb350f">More...</a><br></td></tr>
<tr class="separator:aeaed913bfdd02266062b7880d5bb350f inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:a017ba1b464063d71942875a5178f8668 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td align="right" class="memItemLeft" valign="top">std::pair&lt; std::size_t, std::size_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html#a017ba1b464063d71942875a5178f8668">get_mem_info</a> (<a class="el" href="classrmm_1_1cuda__stream__view.html">cuda_stream_view</a> stream) const</td></tr>
<tr class="memdesc:a017ba1b464063d71942875a5178f8668 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queries the amount of free and total memory for the resource.  <a href="classrmm_1_1mr_1_1device__memory__resource.html#a017ba1b464063d71942875a5178f8668">More...</a><br></td></tr>
<tr class="separator:a017ba1b464063d71942875a5178f8668 inherit pub_methods_classrmm_1_1mr_1_1device__memory__resource"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
</tbody></table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Upstream&gt;<br>
class rmm::mr::tracking_resource_adaptor&lt; Upstream &gt;</h3>

<p>Resource that uses <code>Upstream</code> to allocate memory and tracks allocations. </p>
<p>An instance of this resource can be constructed with an existing, upstream resource in order to satisfy allocation requests, but any existing allocations will be untracked. Tracking stores a size and pointer for every allocation, and a stack frame if <code>capture_stacks</code> is true, so it can add significant overhead. <code><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html" title="Resource that uses Upstream to allocate memory and tracks allocations.">tracking_resource_adaptor</a></code> is intended as a debug adaptor and shouldn't be used in performance-sensitive code. Note that callstacks may not contain all symbols unless the project is linked with <code>-rdynamic</code>. This can be accomplished with <code>add_link_options(-rdynamic)</code> in cmake.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tbody><tr><td class="paramname">Upstream</td><td>Type of the upstream resource used for allocation/deallocation. </td></tr>
  </tbody></table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1468a4721e3aef90c8a7e8ae7c1ddb63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1468a4721e3aef90c8a7e8ae7c1ddb63">◆&nbsp;</a></span>tracking_resource_adaptor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname"><a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::<a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">tracking_resource_adaptor</a> </td>
          <td>(</td>
          <td class="paramtype">Upstream *&nbsp;</td>
          <td class="paramname"><em>upstream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"><em>capture_stacks</em> = <code>false</code>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Construct a new tracking resource adaptor using <code>upstream</code> to satisfy allocation requests. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tbody><tr><td class="paramname">&lt;tt&gt;rmm::logic_error&lt;/tt&gt;</td><td>if <code>upstream == nullptr</code></td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">upstream</td><td>The resource used for allocating/deallocating device memory </td></tr>
    <tr><td class="paramname">capture_stacks</td><td>If true, capture stacks for allocation calls </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4e0080b11d7b81019246f2e36f1b3e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e0080b11d7b81019246f2e36f1b3e69">◆&nbsp;</a></span>get_allocated_bytes()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname">std::size_t <a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::get_allocated_bytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Query the number of bytes that have been allocated. Note that this can not be used to know how large of an allocation is possible due to both possible fragmentation and also internal page sizes and alignment that is not tracked by this allocator. </p>
<dl class="section return"><dt>Returns</dt><dd>std::size_t number of bytes that have been allocated through this allocator. </dd></dl>

</div>
</div>
<a id="acf0c2d6a5269b0e3b8f38cec015f0662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0c2d6a5269b0e3b8f38cec015f0662">◆&nbsp;</a></span>get_outstanding_allocations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname">std::map&lt;void*, <a class="el" href="structrmm_1_1mr_1_1tracking__resource__adaptor_1_1allocation__info.html">allocation_info</a>&gt; const&amp; <a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::get_outstanding_allocations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Get the outstanding allocations map. </p>
<dl class="section return"><dt>Returns</dt><dd>std::map&lt;void*, allocation_info&gt; const&amp; of a map of allocations. The key is the allocated memory pointer and the data is the <a class="el" href="structrmm_1_1mr_1_1tracking__resource__adaptor_1_1allocation__info.html" title="Information stored about an allocation. Includes the size and a stack trace if the tracking_resource_...">allocation_info</a> structure, which contains size and, potentially, stack traces. </dd></dl>

</div>
</div>
<a id="aaa72c3a87b4374b91e8f5ac13fc1752d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa72c3a87b4374b91e8f5ac13fc1752d">◆&nbsp;</a></span>get_outstanding_allocations_str()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname">std::string <a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::get_outstanding_allocations_str </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Gets a string containing the outstanding allocation pointers, their size, and optionally the stack trace for when each pointer was allocated. </p>
<p>Stack traces are only included if this resource adaptor was created with <code>capture_stack == true</code>. Otherwise, outstanding allocation pointers will be shown with their size and empty stack traces.</p>
<dl class="section return"><dt>Returns</dt><dd>std::string Containing the outstanding allocation pointers. </dd></dl>

</div>
</div>
<a id="ab8db48a4ec09d8320e6249c96f23970a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8db48a4ec09d8320e6249c96f23970a">◆&nbsp;</a></span>get_upstream()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname">Upstream* <a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::get_upstream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Return pointer to the upstream resource. </p>
<dl class="section return"><dt>Returns</dt><dd>Upstream* Pointer to the upstream resource. </dd></dl>

</div>
</div>
<a id="a320c93def56d9dbd8ac04574086fa349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320c93def56d9dbd8ac04574086fa349">◆&nbsp;</a></span>supports_get_mem_info()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname">bool <a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::supports_get_mem_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Query whether the resource supports the get_mem_info API. </p>
<dl class="section return"><dt>Returns</dt><dd>bool true if the upstream resource supports get_mem_info, false otherwise. </dd></dl>

<p>Implements <a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html#a96e73e2a8eca60ee7b1c86ed03d7538b">rmm::mr::device_memory_resource</a>.</p>

</div>
</div>
<a id="a40c082c925f47ef950d840e018db2737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40c082c925f47ef950d840e018db2737">◆&nbsp;</a></span>supports_streams()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Upstream &gt; </div>
<table class="mlabels">
  <tbody><tr>
  <td class="mlabels-left">
      <table class="memname">
        <tbody><tr>
          <td class="memname">bool <a class="el" href="classrmm_1_1mr_1_1tracking__resource__adaptor.html">rmm::mr::tracking_resource_adaptor</a>&lt; Upstream &gt;::supports_streams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </tbody></table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</tbody></table>
</div><div class="memdoc">

<p>Checks whether the upstream resource supports streams. </p>
<dl class="section return"><dt>Returns</dt><dd>true The upstream resource supports streams </dd>
<dd>
false The upstream resource does not support streams. </dd></dl>

<p>Implements <a class="el" href="classrmm_1_1mr_1_1device__memory__resource.html#a04598a0abd19625d081a69599360b215">rmm::mr::device_memory_resource</a>.</p>

</div>
</div>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="tracking__resource__adaptor_8hpp_source.html">tracking_resource_adaptor.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"><address class="footer"><small>
Generated by&nbsp;<a href="http://www.doxygen.org/index.html"><img alt="doxygen" class="footer" height="31" src="doxygen.svg" width="104"></a> 1.8.20
</small></address>


<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script><script id="rapids-selector-pixel-invocation" type="text/javascript">_satellite.pageBottom();</script></body></html>