<!-- HTML header for doxygen 1.8.20--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type">
<meta content="IE=9" http-equiv="X-UA-Compatible">
<meta content="Doxygen 1.8.20" name="generator">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>libcuspatial: Nearest Points</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css">
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<!-- RAPIDS CUSTOM JS & CSS: START, Please add these two lines back after every version upgrade -->
<script defer src="https://docs.rapids.ai/assets/js/custom.js"></script>
<link href="https://docs.rapids.ai/assets/css/custom.css" rel="stylesheet">
<!-- RAPIDS CUSTOM JS & CSS: END -->
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" id="rapids-fa-tag" rel="stylesheet"><script id="rapids-selector-pixel-src" src="https://assets.adobedtm.com/5d4962a43b79/814eb6e9b4e1/launch-4bc07f1e0b0b.min.js"></script><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><div id="rapids-doxygen-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">libcuspatial</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf-java/stable">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/index.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/stable/api.html">dask-cuda</a><a class="rapids-selector__menu-item" href="/api/kvikio/stable/api.html">kvikio</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcuspatial/stable">libcuspatial</a><a class="rapids-selector__menu-item" href="/api/libkvikio/stable">libkvikio</a><a class="rapids-selector__menu-item" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/raft/stable">raft</a><a class="rapids-selector__menu-item" href="/api/rapids-cmake/stable/api.html">rapids-cmake</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">nightly (23.04)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcuspatial/nightly">nightly (23.04)</a><a class="rapids-selector__menu-item" href="/api/libcuspatial/stable">stable (23.02)</a><a class="rapids-selector__menu-item" href="/api/libcuspatial/legacy">legacy (22.12)</a></div></div></div>

</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> |
<a href="#nested-classes">Classes</a> |
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Nearest Points<div class="ingroups"><a class="el" href="group__spatial__api.html">Spatial APIs</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>APIs to compute the nearest points between geometries.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:point__linestring__nearest__points_8hpp"><td align="right" class="memItemLeft" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="point__linestring__nearest__points_8hpp.html">point_linestring_nearest_points.hpp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
<tr class="memitem:point__linestring__nearest__points_8cuh"><td align="right" class="memItemLeft" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="point__linestring__nearest__points_8cuh.html">point_linestring_nearest_points.cuh</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuspatial_1_1point__linestring__nearest__points__result.html">cuspatial::point_linestring_nearest_points_result</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Container for the result of <code>pairwise_point_linestring_nearest_points</code>  <a href="structcuspatial_1_1point__linestring__nearest__points__result.html#details">More...</a><br></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad4a5676b6677d45db20be775db3a5b1b"><td align="right" class="memItemLeft" valign="top"><a class="el" href="structcuspatial_1_1point__linestring__nearest__points__result.html">point_linestring_nearest_points_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nearest__points.html#gad4a5676b6677d45db20be775db3a5b1b">cuspatial::pairwise_point_linestring_nearest_points</a> (std::optional&lt; cudf::device_span&lt; cudf::size_type const &gt;&gt; multipoint_geometry_offsets, cudf::column_view points_xy, std::optional&lt; cudf::device_span&lt; cudf::size_type const &gt;&gt; multilinestring_geometry_offsets, cudf::device_span&lt; cudf::size_type const &gt; linestring_part_offsets, cudf::column_view linestring_points_xy, rmm::mr::device_memory_resource *mr=rmm::mr::get_current_device_resource())</td></tr>
<tr class="memdesc:gad4a5676b6677d45db20be775db3a5b1b"><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the nearest points and geometry ID between pairs of (multi)point and (multi)linestring.  <a href="group__nearest__points.html#gad4a5676b6677d45db20be775db3a5b1b">More...</a><br></td></tr>
<tr class="separator:gad4a5676b6677d45db20be775db3a5b1b"><td class="memSeparator" colspan="2">&nbsp;</td></tr>
</tbody></table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>APIs to compute the nearest points between geometries. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad4a5676b6677d45db20be775db3a5b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4a5676b6677d45db20be775db3a5b1b">â—†&nbsp;</a></span>pairwise_point_linestring_nearest_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname"><a class="el" href="structcuspatial_1_1point__linestring__nearest__points__result.html">point_linestring_nearest_points_result</a> cuspatial::pairwise_point_linestring_nearest_points </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; cudf::device_span&lt; cudf::size_type const &gt;&gt;&nbsp;</td>
          <td class="paramname"><em>multipoint_geometry_offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudf::column_view&nbsp;</td>
          <td class="paramname"><em>points_xy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; cudf::device_span&lt; cudf::size_type const &gt;&gt;&nbsp;</td>
          <td class="paramname"><em>multilinestring_geometry_offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudf::device_span&lt; cudf::size_type const &gt;&nbsp;</td>
          <td class="paramname"><em>linestring_part_offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudf::column_view&nbsp;</td>
          <td class="paramname"><em>linestring_points_xy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmm::mr::device_memory_resource *&nbsp;</td>
          <td class="paramname"><em>mr</em> = <code>rmm::mr::get_current_device_resource()</code>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Compute the nearest points and geometry ID between pairs of (multi)point and (multi)linestring. </p>
<p>The nearest point from a test point to a linestring is a point on the linestring that has the shortest distance to the test point compared to any other points on the linestring.</p>
<p>The nearest point from a test multipoint to a multilinestring is the nearest point in the multilinestring that has the shortest distance between all pairs of points and linestrings.</p>
<p>Returns a structure of columns containing (for each pair) the ID to the nearest point in (multi)point, the ID to the linestring in the (multi)linestring, the ID to the segment in the linestring and the coordinate to the nearest point on the (multi)linestring. See <code><a class="el" href="structcuspatial_1_1point__linestring__nearest__points__result.html" title="Container for the result of pairwise_point_linestring_nearest_points">point_linestring_nearest_points_result</a></code> for detail.</p>
<p>The below example computes the nearest point from 2 points to 2 linestrings:</p>
<div class="fragment"><div class="line">The first pair:</div>
<div class="line">Point: (0.0, 0.0)</div>
<div class="line">Linestring: (1.0, -1.0) -&gt; (1.0, 0.0) -&gt; (0.0, 1.0)</div>
<div class="line">Nearest segment ID in linestring: 1</div>
<div class="line">Nearest Point on LineString Coordinate: (0.5, 0.5)</div>
<div class="line"> </div>
<div class="line">The second pair:</div>
<div class="line">Point: (1.0, 2.0)</div>
<div class="line">Linestring: (0.0, 0.0) -&gt; (3.0, 1.0) -&gt; (3.9, 4) -&gt; (5.5, 1.2)</div>
<div class="line">Nearest segment ID in linestring: 0</div>
<div class="line">Nearest Point on LineString Coordinate: (1.5, 0.5)</div>
<div class="line"> </div>
<div class="line">Input:</div>
<div class="line">multipoint_parts_offsets: std::nullopt</div>
<div class="line">points_xy: {0.0, 0.0, 1.0, 2.0}</div>
<div class="line">multilinestring_parts_offsets: std::nullopt</div>
<div class="line">linestring_offsets:  {0, 3, 7}</div>
<div class="line">linestring_points_xy: {1, -1, 1, 0, 0, 1, 0, 0, 3, 1, 3.9, 4, 5.5, 1.2}</div>
<div class="line"> </div>
<div class="line">Output:</div>
<div class="line">point_linestring_nearest_points_result{</div>
<div class="line">  std::nullopt,</div>
<div class="line">  std::nullopt,</div>
<div class="line">  {1, 0},</div>
<div class="line">  {0.5, 0.5, 1.5, 0.5}</div>
<div class="line">}</div>
</div><!-- fragment --><p>The below example computes the nearest point from 3 multipoints to 3 multilinestrings:</p>
<div class="fragment"><div class="line">The first pair:</div>
<div class="line">MultiPoint: {(1.1, 3.0), (3.6, 2.4)}</div>
<div class="line">MultiLineString: {(2.1, 3.14) -&gt; (8.4, -0.5) -&gt; (6.0, 1.4), (-1.0, 0.0) -&gt; (-1.7, 0.83)}</div>
<div class="line">Nearest Point ID in MultiPoint: 1</div>
<div class="line">Nearest LineString ID in MultiLineString: 0</div>
<div class="line">Nearest Segment ID in LineString: 0</div>
<div class="line">Nearest Point on LineString Coordinate: (3.54513, 2.30503)</div>
<div class="line"> </div>
<div class="line">The second pair:</div>
<div class="line">MultiPoint: {(10.0, 15.0)}</div>
<div class="line">MultiLineString: {(20.14, 13.5) -&gt; (18.3, 14.3), (8.34, 9.1) -&gt; (9.9, 9.4)}</div>
<div class="line">Nearest Point ID in MultiPoint: 0</div>
<div class="line">Nearest LineString ID in MultiLineString: 1</div>
<div class="line">Nearest Segment ID in LineString: 0</div>
<div class="line">Nearest Point in LineString Coordinate: (9.9, 9.4)</div>
<div class="line"> </div>
<div class="line">The third pair:</div>
<div class="line">MultiPoint: {(-5.0, -8.7), (-6.28, -7.0), (-10.0, -10.0)}</div>
<div class="line">MultiLineString: {(-20.0, 0.0) -&gt; (-15.0, -15.0) -&gt; (0.0, -18.0) -&gt; (0.0, 0.0)}</div>
<div class="line">Nearest Point ID in MultiPoint: 0</div>
<div class="line">Nearest LineString ID in MultiLineString: 0</div>
<div class="line">Nearest Segment ID in LineString: 2</div>
<div class="line">Nearest Point in LineString Coordinate: (0.0, -8.7)</div>
<div class="line"> </div>
<div class="line">Input:</div>
<div class="line">multipoint_parts_offsets: {0, 2, 3, 6}</div>
<div class="line">points_xy: {1.1, 3.0, 3.6, 2.4, 10.0, 15.0, -5.0, -8.7, -6.28, -7.0, -10.0, -10.0}</div>
<div class="line">multilinestring_parts_offsets: {0, 2, 4, 5}</div>
<div class="line">linestring_offsets:  {0, 3, 5, 7, 9, 13}</div>
<div class="line">linestring_points_xy: {</div>
<div class="line">  2.1, 3.14, 8.4, -0.5, 6.0, 1.4, -1.0, 0.0,</div>
<div class="line">  -1.7, 0.83, 20.14, 13.5, 18.3, 14.3, 8.34, 9.1,</div>
<div class="line">  9.9, 9.4, -20.0, 0.0, -15.0, -15.0, 0.0, -18.0,</div>
<div class="line">  0.0, 0.0</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">Output:</div>
<div class="line">point_linestring_nearest_points_result{</div>
<div class="line"> {1, 0, 0},</div>
<div class="line"> {0, 1, 0},</div>
<div class="line"> {0, 0, 2},</div>
<div class="line"> {3.545131432802666, 2.30503517215846, 9.9, 9.4, 0.0, -8.7}</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">multipoint_geometry_offsets</td><td>Beginning and ending indices for each multipoint </td></tr>
    <tr><td class="paramname">points_xy</td><td>Interleaved x, y-coordinate of points </td></tr>
    <tr><td class="paramname">multilinestring_geometry_offsets</td><td>Beginning and ending indices for each multilinestring </td></tr>
    <tr><td class="paramname">linestring_part_offsets</td><td>Beginning and ending indices for each linestring </td></tr>
    <tr><td class="paramname">linestring_points_xy</td><td>Interleaved x, y-coordinates of the linestring points </td></tr>
    <tr><td class="paramname">mr</td><td>Device memory resource used to allocate the returned column. </td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="structcuspatial_1_1point__linestring__nearest__points__result.html" title="Container for the result of pairwise_point_linestring_nearest_points">point_linestring_nearest_points_result</a></code></dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tbody><tr><td class="paramname"><a class="el" href="structcuspatial_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cuspatial::logic_error</a></td><td>if <code>points_xy</code> or <code>linestring_points_xy</code> contains odd number of coordinates. </td></tr>
    <tr><td class="paramname"><a class="el" href="structcuspatial_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cuspatial::logic_error</a></td><td>if <code>points_xy</code> or <code>linestring_points_xy</code> are not floating point type. </td></tr>
    <tr><td class="paramname"><a class="el" href="structcuspatial_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cuspatial::logic_error</a></td><td>if the number of (multi)point(s) mismatch the number of (multi)linestring(s). </td></tr>
    <tr><td class="paramname"><a class="el" href="structcuspatial_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cuspatial::logic_error</a></td><td>if the type of <code>point_xy</code> and <code>linestring_points_xy</code> mismatch. </td></tr>
    <tr><td class="paramname"><a class="el" href="structcuspatial_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cuspatial::logic_error</a></td><td>if any of <code>point_xy</code> and <code>linestring_points_xy</code> contains null. </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"><address class="footer"><small>
Generated by&nbsp;<a href="http://www.doxygen.org/index.html"><img alt="doxygen" class="footer" height="31" src="doxygen.svg" width="104"></a> 1.8.20
</small></address>


<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script><script id="rapids-selector-pixel-invocation" type="text/javascript">_satellite.pageBottom();</script></body></html>