<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"><meta content="Docutils 0.18.1: http://docutils.sourceforge.net/" name="generator">

    <title>Building from Source &mdash; cugraph 23.04.00 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet">
  <link as="font" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2">
<link as="font" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2">
<link as="font" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" rel="preload" type="font/woff2">

    <link href="../_static/pygments.css" rel="stylesheet" type="text/css">
    <link href="../_static/copybutton.css" rel="stylesheet" type="text/css">
    <link href="https://docs.rapids.ai/assets/css/custom.css" rel="stylesheet" type="text/css">
    <link href="../_static/references.css" rel="stylesheet" type="text/css">
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" rel="preload">
<link as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" rel="preload">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script defer="defer" src="https://docs.rapids.ai/assets/js/custom.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'installation/source_build';</script>
    <link href="../genindex.html" rel="index" title="Index">
    <link href="../search.html" rel="search" title="Search">
    <link href="../tutorials/index.html" rel="next" title="Tutorials">
    <link href="getting_cugraph.html" rel="prev" title="Getting cuGraph Packages">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="en" name="docsearch:language">
  <script id="rapids-selector-pixel-src" src="https://assets.adobedtm.com/5d4962a43b79/814eb6e9b4e1/launch-4bc07f1e0b0b.min.js"></script><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"></head>
  
  
  <body data-bs-root-margin="0px 0px -60%" data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-default-mode data-offset="180">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input class="sidebar-toggle" id="__primary" name="__primary" type="checkbox">
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input class="sidebar-toggle" id="__secondary" name="__secondary" type="checkbox">
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form action="../search.html" class="bd-search d-flex align-items-center" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input aria-label="Search the docs ..." autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" id="search-input" name="q" placeholder="Search the docs ..." spellcheck="false" type="search">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">cugraph 23.04.00 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="navbar-header-items">
    
    <div class="ms-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p aria-label="Site Navigation" aria-level="1" class="sidebar-header-items__title" role="heading">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../basics/index.html">
                        Basics
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../graph_support/index.html">
                        Graph Support
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../references/index.html">
                        References
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button aria-expanded="false" aria-haspopup="true" class="btn dropdown-toggle nav-item" data-bs-toggle="dropdown" type="button">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev_resources/index.html">
                        Developer Resources
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../releases/index.html">
                        Releases
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api_docs/index.html">
                        Python API reference
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul aria-label="Icon Links" class="navbar-icon-links navbar-nav">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a class="nav-link" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://github.com/rapidsai/cugraph" rel="noopener" target="_blank" title="GitHub"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a class="nav-link" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://twitter.com/rapidsai" rel="noopener" target="_blank" title="Twitter"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar"><div id="rapids-pydata-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">cugraph</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/legacy/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf-java/legacy">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/index.html">cudf</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/cugraph/stable">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/stable/api.html">dask-cuda</a><a class="rapids-selector__menu-item" href="/api/kvikio/stable/api.html">kvikio</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/libcuspatial/stable">libcuspatial</a><a class="rapids-selector__menu-item" href="/api/libkvikio/stable">libkvikio</a><a class="rapids-selector__menu-item" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/raft/stable">raft</a><a class="rapids-selector__menu-item" href="/api/rapids-cmake/stable/api.html">rapids-cmake</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">stable (23.04)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/cugraph/stable">stable (23.04)</a><a class="rapids-selector__menu-item" href="/api/cugraph/legacy">legacy (23.02)</a></div></div></div>
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p aria-label="Site Navigation" aria-level="1" class="sidebar-header-items__title" role="heading">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../basics/index.html">
                        Basics
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../graph_support/index.html">
                        Graph Support
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../references/index.html">
                        References
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button aria-expanded="false" aria-haspopup="true" class="btn dropdown-toggle nav-item" data-bs-toggle="dropdown" type="button">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev_resources/index.html">
                        Developer Resources
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../releases/index.html">
                        Releases
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api_docs/index.html">
                        Python API reference
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul aria-label="Icon Links" class="navbar-icon-links navbar-nav">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a class="nav-link" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://github.com/rapidsai/cugraph" rel="noopener" target="_blank" title="GitHub"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a class="nav-link" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://twitter.com/rapidsai" rel="noopener" target="_blank" title="Twitter"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav aria-label="Section Navigation" class="bd-docs-nav bd-links">
  <p aria-level="1" class="bd-links__title" role="heading">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting_cugraph.html">Getting cuGraph Packages</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Building from Source</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main class="bd-main" id="main-content">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul aria-label="Breadcrumb" class="bd-breadcrumbs" role="navigation">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a aria-label="Home" class="nav-link" href="../index.html">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a class="nav-link" href="index.html">Installation</a></li>
    
    <li aria-current="page" class="breadcrumb-item active">Building from Source</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="building-from-source">
<h1>Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this heading">#</a></h1>
<p>The following instructions are for users wishing to build cuGraph from source code.  These instructions are tested on supported distributions of Linux, CUDA, and Python - See <a class="reference external" href="https://rapids.ai/start.html">RAPIDS Getting Started</a> for list of supported environments.  Other operating systems <em>might be</em> compatible, but are not currently tested.</p>
<p>The cuGraph package include both a C/C++ CUDA portion and a python portion.  Both libraries need to be installed in order for cuGraph to operate correctly.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h2>
<p><strong>Compiler</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span></code>         version 9.3+</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nvcc</span></code>        version 11.0+</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmake</span></code>       version 3.20.1+</p></li>
</ul>
<p><strong>CUDA:</strong></p>
<ul class="simple">
<li><p>CUDA 11.0+</p></li>
<li><p>NVIDIA driver 450.80.02+</p></li>
<li><p>Pascal architecture or better</p></li>
</ul>
<p>You can obtain CUDA from <a class="reference external" href="https://developer.nvidia.com/cuda-downloads">https://developer.nvidia.com/cuda-downloads</a>.</p>
</section>
<section id="building-cugraph">
<h2>Building cuGraph<a class="headerlink" href="#building-cugraph" title="Permalink to this heading">#</a></h2>
<p>To install cuGraph from source, ensure the dependencies are met.</p>
<section id="clone-repo-and-configure-conda-environment">
<h3>Clone Repo and Configure Conda Environment<a class="headerlink" href="#clone-repo-and-configure-conda-environment" title="Permalink to this heading">#</a></h3>
<p><strong>GIT clone a version of the repository</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the localtion to cuGraph in an environment variable CUGRAPH_HOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CUGRAPH_HOME</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/cugraph

<span class="c1"># Download the cuGraph repo - if you have a folked version, use that path here instead</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/rapidsai/cugraph.git<span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>

<span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>
</pre></div>
</div>
<p><strong>Create the conda development environment</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># create the conda environment (assuming in base `cugraph` directory)</span>

<span class="c1"># for CUDA 11.5</span>
conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>cugraph_dev<span class="w"> </span>--file<span class="w"> </span>conda/environments/all_cuda-118_arch-x86_64.yaml

<span class="c1"># activate the environment</span>
conda<span class="w"> </span>activate<span class="w"> </span>cugraph_dev

<span class="c1"># to deactivate an environment</span>
conda<span class="w"> </span>deactivate
</pre></div>
</div>
<ul class="simple">
<li><p>The environment can be updated as development includes/changes the dependencies. To do so, run:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Where XXX is the CUDA 11 version</span>
conda<span class="w"> </span>env<span class="w"> </span>update<span class="w"> </span>--name<span class="w"> </span>cugraph_dev<span class="w"> </span>--file<span class="w"> </span>conda/environments/cugraph_dev_cuda11.XXX.yml

conda<span class="w"> </span>activate<span class="w"> </span>cugraph_dev
</pre></div>
</div>
</section>
<section id="build-and-install-using-the-build-sh-script">
<h3>Build and Install Using the <code class="docutils literal notranslate"><span class="pre">build.sh</span></code> Script<a class="headerlink" href="#build-and-install-using-the-build-sh-script" title="Permalink to this heading">#</a></h3>
<p>Using the <code class="docutils literal notranslate"><span class="pre">build.sh</span></code> script make compiling and installing cuGraph a breeze.  To build and install, simply do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>
$<span class="w"> </span>./build.sh<span class="w"> </span>clean
$<span class="w"> </span>./build.sh<span class="w"> </span>libcugraph
$<span class="w"> </span>./build.sh<span class="w"> </span>cugraph
</pre></div>
</div>
<p>There are several other options available on the build script for advanced users.
<code class="docutils literal notranslate"><span class="pre">build.sh</span></code> options:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>build.sh<span class="w"> </span><span class="o">[</span>&lt;target&gt;<span class="w"> </span>...<span class="o">]</span><span class="w"> </span><span class="o">[</span>&lt;flag&gt;<span class="w"> </span>...<span class="o">]</span>
<span class="w"> </span>where<span class="w"> </span>&lt;target&gt;<span class="w"> </span>is:
<span class="w">   </span>clean<span class="w">                      </span>-<span class="w"> </span>remove<span class="w"> </span>all<span class="w"> </span>existing<span class="w"> </span>build<span class="w"> </span>artifacts<span class="w"> </span>and<span class="w"> </span>configuration<span class="w"> </span><span class="o">(</span>start<span class="w"> </span>over<span class="o">)</span>
<span class="w">   </span>uninstall<span class="w">                  </span>-<span class="w"> </span>uninstall<span class="w"> </span>libcugraph<span class="w"> </span>and<span class="w"> </span>cugraph<span class="w"> </span>from<span class="w"> </span>a<span class="w"> </span>prior<span class="w"> </span>build/install<span class="w"> </span><span class="o">(</span>see<span class="w"> </span>also<span class="w"> </span>-n<span class="o">)</span>
<span class="w">   </span>libcugraph<span class="w">                 </span>-<span class="w"> </span>build<span class="w"> </span>libcugraph.so<span class="w"> </span>and<span class="w"> </span>SG<span class="w"> </span><span class="nb">test</span><span class="w"> </span>binaries
<span class="w">   </span>libcugraph_etl<span class="w">             </span>-<span class="w"> </span>build<span class="w"> </span>libcugraph_etl.so<span class="w"> </span>and<span class="w"> </span>SG<span class="w"> </span><span class="nb">test</span><span class="w"> </span>binaries
<span class="w">   </span>pylibcugraph<span class="w">               </span>-<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>pylibcugraph<span class="w"> </span>Python<span class="w"> </span>package
<span class="w">   </span>cugraph<span class="w">                    </span>-<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>cugraph<span class="w"> </span>Python<span class="w"> </span>package
<span class="w">   </span>cugraph-service<span class="w">            </span>-<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>cugraph-service_client<span class="w"> </span>and<span class="w"> </span>cugraph-service_server<span class="w"> </span>Python<span class="w"> </span>package
<span class="w">   </span>cpp-mgtests<span class="w">                </span>-<span class="w"> </span>build<span class="w"> </span>libcugraph<span class="w"> </span>and<span class="w"> </span>libcugraph_etl<span class="w"> </span>MG<span class="w"> </span>tests.<span class="w"> </span>Builds<span class="w"> </span>MPI<span class="w"> </span>communicator,<span class="w"> </span>adding<span class="w"> </span>MPI<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>dependency.
<span class="w">   </span>cugraph-dgl<span class="w">                </span>-<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>cugraph-dgl<span class="w"> </span>extensions<span class="w"> </span><span class="k">for</span><span class="w"> </span>DGL
<span class="w">   </span>cugraph-pyg<span class="w">                </span>-<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>cugraph-dgl<span class="w"> </span>extensions<span class="w"> </span><span class="k">for</span><span class="w"> </span>PyG
<span class="w">   </span>docs<span class="w">                       </span>-<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>docs
<span class="w"> </span>and<span class="w"> </span>&lt;flag&gt;<span class="w"> </span>is:
<span class="w">   </span>-v<span class="w">                         </span>-<span class="w"> </span>verbose<span class="w"> </span>build<span class="w"> </span>mode
<span class="w">   </span>-g<span class="w">                         </span>-<span class="w"> </span>build<span class="w"> </span><span class="k">for</span><span class="w"> </span>debug
<span class="w">   </span>-n<span class="w">                         </span>-<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>install<span class="w"> </span>after<span class="w"> </span>a<span class="w"> </span>successful<span class="w"> </span>build
<span class="w">   </span>--pydevelop<span class="w">                </span>-<span class="w"> </span>use<span class="w"> </span>setup.py<span class="w"> </span>develop<span class="w"> </span>instead<span class="w"> </span>of<span class="w"> </span>install
<span class="w">   </span>--allgpuarch<span class="w">               </span>-<span class="w"> </span>build<span class="w"> </span><span class="k">for</span><span class="w"> </span>all<span class="w"> </span>supported<span class="w"> </span>GPU<span class="w"> </span>architectures
<span class="w">   </span>--skip_cpp_tests<span class="w">           </span>-<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>SG<span class="w"> </span><span class="nb">test</span><span class="w"> </span>binaries<span class="w"> </span>as<span class="w"> </span>part<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>libcugraph<span class="w"> </span>and<span class="w"> </span>libcugraph_etl<span class="w"> </span>targets
<span class="w">   </span>--without_cugraphops<span class="w">       </span>-<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>build<span class="w"> </span>algos<span class="w"> </span>that<span class="w"> </span>require<span class="w"> </span>cugraph-ops
<span class="w">   </span>--cmake_default_generator<span class="w">  </span>-<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>cmake<span class="w"> </span>generator<span class="w"> </span>instead<span class="w"> </span>of<span class="w"> </span>ninja
<span class="w">   </span>--clean<span class="w">                    </span>-<span class="w"> </span>clean<span class="w"> </span>an<span class="w"> </span>individual<span class="w"> </span>target<span class="w"> </span><span class="o">(</span>note:<span class="w"> </span>to<span class="w"> </span><span class="k">do</span><span class="w"> </span>a<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>rebuild,<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>clean<span class="w"> </span>target<span class="w"> </span>described<span class="w"> </span>above<span class="o">)</span>
<span class="w">   </span>-h<span class="w">                         </span>-<span class="w"> </span>print<span class="w"> </span>this<span class="w"> </span>text

<span class="w"> </span>default<span class="w"> </span>action<span class="w"> </span><span class="o">(</span>no<span class="w"> </span>args<span class="o">)</span><span class="w"> </span>is<span class="w"> </span>to<span class="w"> </span>build<span class="w"> </span>and<span class="w"> </span>install<span class="w"> </span><span class="s1">'libcugraph'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">'libcugraph_etl'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">'pylibcugraph'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">'cugraph'</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">'cugraph-service'</span><span class="w"> </span>targets

examples:
$<span class="w"> </span>./build.sh<span class="w"> </span>clean<span class="w">                        </span><span class="c1"># remove prior build artifacts (start over)</span>
$<span class="w"> </span>./build.sh<span class="w"> </span>libcugraph<span class="w"> </span>-v<span class="w">                </span><span class="c1"># compile and install libcugraph with verbose output</span>
$<span class="w"> </span>./build.sh<span class="w"> </span>libcugraph<span class="w"> </span>-g<span class="w">                </span><span class="c1"># compile and install libcugraph for debug</span>
$<span class="w"> </span>./build.sh<span class="w"> </span>libcugraph<span class="w"> </span>-n<span class="w">                </span><span class="c1"># compile libcugraph but do not install</span>

<span class="c1"># make parallelism options can also be defined: Example build jobs using 4 threads (make -j4)</span>
$<span class="w"> </span><span class="nv">PARALLEL_LEVEL</span><span class="o">=</span><span class="m">4</span><span class="w"> </span>./build.sh<span class="w"> </span>libcugraph

Note<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>libraries<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>location<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span><span class="nv">$PREFIX</span><span class="sb">`</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span>i.e.<span class="w"> </span><span class="sb">`</span><span class="nb">export</span><span class="w"> </span><span class="nv">PREFIX</span><span class="o">=</span>/install/path<span class="sb">`</span><span class="o">)</span>,<span class="w"> </span>otherwise<span class="w"> </span>to<span class="w"> </span><span class="sb">`</span><span class="nv">$CONDA_PREFIX</span><span class="sb">`</span>.
</pre></div>
</div>
</section>
</section>
<section id="building-each-section-independently">
<h2>Building each section independently<a class="headerlink" href="#building-each-section-independently" title="Permalink to this heading">#</a></h2>
<section id="build-and-install-the-c-cuda-libcugraph-library">
<h3>Build and Install the C++/CUDA <code class="docutils literal notranslate"><span class="pre">libcugraph</span></code> Library<a class="headerlink" href="#build-and-install-the-c-cuda-libcugraph-library" title="Permalink to this heading">#</a></h3>
<p>CMake depends on the <code class="docutils literal notranslate"><span class="pre">nvcc</span></code> executable being on your path or defined in <code class="docutils literal notranslate"><span class="pre">$CUDACXX</span></code>.</p>
<p>This project uses cmake for building the C/C++ library. To configure cmake, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the localtion to cuGraph in an environment variable CUGRAPH_HOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CUGRAPH_HOME</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/cugraph

<span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>
<span class="nb">cd</span><span class="w"> </span>cpp<span class="w">                                        </span><span class="c1"># enter cpp directory</span>
mkdir<span class="w"> </span>build<span class="w">                                   </span><span class="c1"># create build directory</span>
<span class="nb">cd</span><span class="w"> </span>build<span class="w">                                      </span><span class="c1"># enter the build directory</span>
cmake<span class="w"> </span>..<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="nv">$CONDA_PREFIX</span>

<span class="c1"># now build the code</span>
make<span class="w"> </span>-j<span class="w">                                       </span><span class="c1"># "-j" starts multiple threads</span>
make<span class="w"> </span>install<span class="w">                                  </span><span class="c1"># install the libraries</span>
</pre></div>
</div>
<p>The default installation locations are <code class="docutils literal notranslate"><span class="pre">$CMAKE_INSTALL_PREFIX/lib</span></code> and <code class="docutils literal notranslate"><span class="pre">$CMAKE_INSTALL_PREFIX/include/cugraph</span></code> respectively.</p>
</section>
<section id="updating-the-raft-branch">
<h3>Updating the RAFT branch<a class="headerlink" href="#updating-the-raft-branch" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">libcugraph</span></code> uses the <a class="reference external" href="https://github.com/rapidsai/raft">RAFT</a> library and there are times when it might be desirable to build against a different RAFT branch, such as when working on new features that might span both RAFT and cuGraph.</p>
<p>For local development, the <code class="docutils literal notranslate"><span class="pre">CPM_raft_SOURCE=&lt;path/to/raft/source&gt;</span></code> option can be passed to the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> command to enable <code class="docutils literal notranslate"><span class="pre">libcugraph</span></code> to use the local RAFT branch.</p>
<p>To have CI test a <code class="docutils literal notranslate"><span class="pre">cugraph</span></code> pull request against a different RAFT branch, modify the bottom of the <code class="docutils literal notranslate"><span class="pre">cpp/cmake/thirdparty/get_raft.cmake</span></code> file as follows:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># Change pinned tag and fork here to test a commit in CI</span>
<span class="c"># To use a different RAFT locally, set the CMake variable</span>
<span class="c"># RPM_raft_SOURCE=/path/to/local/raft</span>
<span class="nb">find_and_configure_raft</span><span class="p">(</span><span class="s">VERSION</span><span class="w">    </span><span class="o">${</span><span class="nv">CUGRAPH_MIN_VERSION_raft</span><span class="o">}</span>
<span class="w">                        </span><span class="s">FORK</span><span class="w">       </span><span class="s">&lt;your_git_fork&gt;</span>
<span class="w">                        </span><span class="s">PINNED_TAG</span><span class="w"> </span><span class="s">&lt;your_git_branch_or_tag&gt;</span>

<span class="w">                        </span><span class="c"># When PINNED_TAG above doesn't match cugraph,</span>
<span class="w">                        </span><span class="c"># force local raft clone in build directory</span>
<span class="w">                        </span><span class="c"># even if it's already installed.</span>
<span class="w">                        </span><span class="s">CLONE_ON_PIN</span><span class="w">     </span><span class="s">ON</span>
<span class="w">                        </span><span class="p">)</span>
</pre></div>
</div>
<p>When the above change is pushed to a pull request, the continuous integration servers will use the specified RAFT branch to run the cuGraph tests. After the changes in the RAFT branch are merged to the release branch, remember to revert the <code class="docutils literal notranslate"><span class="pre">get_raft.cmake</span></code> file back to the original cuGraph branch.</p>
</section>
<section id="building-and-installing-the-python-package">
<h3>Building and installing the Python package<a class="headerlink" href="#building-and-installing-the-python-package" title="Permalink to this heading">#</a></h3>
<ol class="simple">
<li><p>Install the Python packages to your Python path:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>
<span class="nb">cd</span><span class="w"> </span>python
<span class="nb">cd</span><span class="w"> </span>pylibcugraph
python<span class="w"> </span>setup.py<span class="w"> </span>build_ext<span class="w"> </span>--inplace
python<span class="w"> </span>setup.py<span class="w"> </span>install<span class="w">    </span><span class="c1"># install pylibcugraph</span>
<span class="nb">cd</span><span class="w"> </span>../cugraph
python<span class="w"> </span>setup.py<span class="w"> </span>build_ext<span class="w"> </span>--inplace
python<span class="w"> </span>setup.py<span class="w"> </span>install<span class="w">    </span><span class="c1"># install cugraph python bindings</span>
</pre></div>
</div>
</section>
</section>
<section id="run-tests">
<h2>Run tests<a class="headerlink" href="#run-tests" title="Permalink to this heading">#</a></h2>
<p>If you already have the datasets:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">RAPIDS_DATASET_ROOT_DIR</span><span class="o">=</span>&lt;path_to_ccp_test_and_reference_data&gt;
</pre></div>
</div>
<p>If you do not have the datasets:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>/datasets
<span class="nb">source</span><span class="w"> </span>get_test_data.sh<span class="w"> </span><span class="c1">#This takes about 10 minutes and downloads 1GB data (&gt;5 GB uncompressed)</span>
</pre></div>
</div>
<p>Run either the C++ or the Python tests with datasets</p>
<ul>
<li><p><strong>Python tests with datasets</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>python-louvain<span class="w"> </span><span class="c1">#some tests require this package to run</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>
<span class="nb">cd</span><span class="w"> </span>python
pytest
</pre></div>
</div>
</li>
<li><p><strong>C++ stand alone tests</strong></p>
<p>From the build directory :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the cugraph tests</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>
<span class="nb">cd</span><span class="w"> </span>cpp/build
gtests/GDFGRAPH_TEST<span class="w">		</span><span class="c1"># this is an executable file</span>
</pre></div>
</div>
</li>
<li><p><strong>C++ tests with larger datasets</strong></p>
<p>Run the C++ tests on large input:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$CUGRAPH_HOME</span>/cpp/build
<span class="c1">#test one particular analytics (eg. pagerank)</span>
gtests/PAGERANK_TEST
<span class="c1">#test everything</span>
make<span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
</li>
</ul>
<p>Note: This conda installation only applies to Linux and Python versions 3.8/3.10.</p>
<section id="optional-set-environment-variable-on-activation">
<h3>(OPTIONAL) Set environment variable on activation<a class="headerlink" href="#optional-set-environment-variable-on-activation" title="Permalink to this heading">#</a></h3>
<p>It is possible to configure the conda environment to set environmental variables on activation. Providing instructions to set PATH to include the CUDA toolkit bin directory and LD_LIBRARY_PATH to include the CUDA lib64 directory will be helpful.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w">  </span>~/anaconda3/envs/cugraph_dev

mkdir<span class="w"> </span>-p<span class="w"> </span>./etc/conda/activate.d
mkdir<span class="w"> </span>-p<span class="w"> </span>./etc/conda/deactivate.d
touch<span class="w"> </span>./etc/conda/activate.d/env_vars.sh
touch<span class="w"> </span>./etc/conda/deactivate.d/env_vars.sh
</pre></div>
</div>
<p>Next the env_vars.sh file needs to be edited</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vi<span class="w"> </span>./etc/conda/activate.d/env_vars.sh

<span class="c1">#!/bin/bash</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/usr/local/cuda-11.0/bin:<span class="nv">$PATH</span><span class="w"> </span><span class="c1"># or cuda-11.1 if using CUDA 11.1 and cuda-11.2 if using CUDA 11.2, respectively</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/usr/local/cuda-11.0/lib64:<span class="nv">$LD_LIBRARY_PATH</span><span class="w"> </span><span class="c1"># or cuda-11.1 if using CUDA 11.1 and cuda-11.2 if using CUDA 11.2, respectively</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vi</span> <span class="o">./</span><span class="n">etc</span><span class="o">/</span><span class="n">conda</span><span class="o">/</span><span class="n">deactivate</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">env_vars</span><span class="o">.</span><span class="n">sh</span>

<span class="c1">#!/bin/bash</span>
<span class="n">unset</span> <span class="n">PATH</span>
<span class="n">unset</span> <span class="n">LD_LIBRARY_PATH</span>
</pre></div>
</div>
</section>
</section>
<section id="creating-documentation">
<h2>Creating documentation<a class="headerlink" href="#creating-documentation" title="Permalink to this heading">#</a></h2>
<p>Python API documentation can be generated from <em>./docs/cugraph directory</em>. Or through using &ldquo;./build.sh docs&rdquo;</p>
</section>
<section id="attribution">
<h2>Attribution<a class="headerlink" href="#attribution" title="Permalink to this heading">#</a></h2>
<p>Portions adopted from https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev" href="getting_cugraph.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Getting cuGraph Packages</p>
      </div>
    </a>
    <a class="right-next" href="../tutorials/index.html" title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tutorials</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-cugraph">Building cuGraph</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clone-repo-and-configure-conda-environment">Clone Repo and Configure Conda Environment</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-and-install-using-the-build-sh-script">Build and Install Using the <code class="docutils literal notranslate"><span class="pre">build.sh</span></code> Script</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-each-section-independently">Building each section independently</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-and-install-the-c-cuda-libcugraph-library">Build and Install the C++/CUDA <code class="docutils literal notranslate"><span class="pre">libcugraph</span></code> Library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#updating-the-raft-branch">Updating the RAFT branch</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-and-installing-the-python-package">Building and installing the Python package</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-tests">Run tests</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-set-environment-variable-on-activation">(OPTIONAL) Set environment variable on activation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-documentation">Creating documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attribution">Attribution</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/installation/source_build.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      &copy; Copyright 2019-2023, NVIDIA Corporation.
      <br>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  
<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script><script id="rapids-selector-pixel-invocation" type="text/javascript">_satellite.pageBottom();</script></body></html>