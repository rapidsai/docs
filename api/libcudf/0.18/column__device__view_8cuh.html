<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.8.20" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>libcudf: column_device_view.cuh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="rapids.css" rel="stylesheet" type="text/css"/>
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" id="rapids-fa-tag" rel="stylesheet"/><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"/></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><div id="rapids-doxygen-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">libcudf</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/api.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cudf-java/stable">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable/api.html">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable/api.html">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/nightly/api.html">dask-cuda</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">legacy (0.18)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/libcudf/nightly/namespacecudf.html">nightly (21.06)</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">stable (0.19)</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcudf/legacy/namespacecudf.html">legacy (0.18)</a></div></div></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>
<div class="navpath" id="nav-path">
<ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_4010bc87a0115613477f89ebf589f29d.html">cudf</a></li><li class="navelem"><a class="el" href="dir_5bf3ee2c8b511bb34edb1f79dd6a6af0.html">column</a></li> </ul>
</div>
</div><!-- top -->
<div class="header">
<div class="summary">
<a href="#nested-classes">Classes</a> |
<a href="#namespaces">Namespaces</a> |
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<div class="title">column_device_view.cuh File Reference</div> </div>
</div><!--header-->
<div class="contents">
<p>Column device view class definitons.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br/>
<code>#include &lt;<a class="el" href="column__view_8hpp_source.html">cudf/column/column_view.hpp</a>&gt;</code><br/>
<code>#include &lt;cudf/detail/utilities/alignment.hpp&gt;</code><br/>
<code>#include &lt;<a class="el" href="fixed__point_8hpp_source.html">cudf/fixed_point/fixed_point.hpp</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="list__view_8cuh_source.html">cudf/lists/list_view.cuh</a>&gt;</code><br/>
<code>#include &lt;cudf/strings/string_view.cuh&gt;</code><br/>
<code>#include &lt;<a class="el" href="strings__column__view_8hpp_source.html">cudf/strings/strings_column_view.hpp</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="struct__view_8hpp_source.html">cudf/structs/struct_view.hpp</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="types_8hpp_source.html">cudf/types.hpp</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="bit_8hpp_source.html">cudf/utilities/bit.hpp</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="traits_8hpp_source.html">cudf/utilities/traits.hpp</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="type__dispatcher_8hpp_source.html">cudf/utilities/type_dispatcher.hpp</a>&gt;</code><br/>
<code>#include &lt;rmm/cuda_stream_view.hpp&gt;</code><br/>
<code>#include &lt;thrust/iterator/counting_iterator.h&gt;</code><br/>
<code>#include &lt;thrust/iterator/transform_iterator.h&gt;</code><br/>
</div>
<p><a href="column__device__view_8cuh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">class  </td><td class="memItemRight" valign="bottom"><a class="el" href="classcudf_1_1detail_1_1column__device__view__base.html">cudf::detail::column_device_view_base</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">An immutable, non-owning view of device data as a column of elements that is trivially copyable and usable in CUDA device code.  <a href="classcudf_1_1detail_1_1column__device__view__base.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">class  </td><td class="memItemRight" valign="bottom"><a class="el" href="classcudf_1_1column__device__view.html">cudf::column_device_view</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">An immutable, non-owning view of device data as a column of elements that is trivially copyable and usable in CUDA device code.  <a href="classcudf_1_1column__device__view.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">class  </td><td class="memItemRight" valign="bottom"><a class="el" href="classcudf_1_1mutable__column__device__view.html">cudf::mutable_column_device_view</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">A mutable, non-owning view of device data as a column of elements that is trivially copyable and usable in CUDA device code.  <a href="classcudf_1_1mutable__column__device__view.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structcudf_1_1index__element__fn.html">cudf::index_element_fn</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">Dispatch functor for resolving the index value for a dictionary element.  <a href="structcudf_1_1index__element__fn.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structcudf_1_1detail_1_1value__accessor.html">cudf::detail::value_accessor&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">value accessor of column without null bitmask A unary functor returns scalar value at <code>id</code>. <code>operator() (cudf::size_type id)</code> computes <code>element</code> This functor is only allowed for non-nullable columns.  <a href="structcudf_1_1detail_1_1value__accessor.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structcudf_1_1detail_1_1pair__accessor.html">cudf::detail::pair_accessor&lt; T, has_nulls &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">pair accessor of column with/without null bitmask A unary functor returns pair with scalar value at <code>id</code> and boolean validity <code>operator() (cudf::size_type id)</code> computes <code>element</code> and returns a <code>pair(element, validity)</code> <a href="structcudf_1_1detail_1_1pair__accessor.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structcudf_1_1detail_1_1mutable__value__accessor.html">cudf::detail::mutable_value_accessor&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacecudf"><td align="right" class="memItemLeft" valign="top">  </td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecudf.html">cudf</a></td></tr>
<tr class="memdesc:namespacecudf"><td class="mdescLeft"> </td><td class="mdescRight">cuDF interfaces <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a99018169ea78a61f14bb8a25aa416487"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:a99018169ea78a61f14bb8a25aa416487"><td align="right" class="memTemplItemLeft" valign="top">__device__ <a class="el" href="classnumeric_1_1fixed__point.html">numeric::decimal32</a> const </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacecudf.html#a99018169ea78a61f14bb8a25aa416487">cudf::column_device_view::element&lt; numeric::decimal32 &gt;</a> (size_type element_index) const noexcept</td></tr>
<tr class="memdesc:a99018169ea78a61f14bb8a25aa416487"><td class="mdescLeft"> </td><td class="mdescRight">Returns a <code>numeric::decimal32</code> element at the specified index for a <code>fixed_point</code> column.  <a href="namespacecudf.html#a99018169ea78a61f14bb8a25aa416487">More...</a><br/></td></tr>
<tr class="separator:a99018169ea78a61f14bb8a25aa416487"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1fbc99852b6f020dac5d98fc16b0d3ee"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:a1fbc99852b6f020dac5d98fc16b0d3ee"><td align="right" class="memTemplItemLeft" valign="top">__device__ <a class="el" href="classnumeric_1_1fixed__point.html">numeric::decimal64</a> const </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacecudf.html#a1fbc99852b6f020dac5d98fc16b0d3ee">cudf::column_device_view::element&lt; numeric::decimal64 &gt;</a> (size_type element_index) const noexcept</td></tr>
<tr class="memdesc:a1fbc99852b6f020dac5d98fc16b0d3ee"><td class="mdescLeft"> </td><td class="mdescRight">Returns a <code>numeric::decimal64</code> element at the specified index for a <code>fixed_point</code> column.  <a href="namespacecudf.html#a1fbc99852b6f020dac5d98fc16b0d3ee">More...</a><br/></td></tr>
<tr class="separator:a1fbc99852b6f020dac5d98fc16b0d3ee"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a526ae09beaa4d7013419be4675b797e7"><td align="right" class="memItemLeft" valign="top">__device__ bitmask_type </td><td class="memItemRight" valign="bottom"><a class="el" href="column__device__view_8cuh.html#a526ae09beaa4d7013419be4675b797e7">cudf::detail::get_mask_offset_word</a> (bitmask_type const *__restrict__ source, size_type destination_word_index, size_type source_begin_bit, size_type source_end_bit)</td></tr>
<tr class="memdesc:a526ae09beaa4d7013419be4675b797e7"><td class="mdescLeft"> </td><td class="mdescRight">Convenience function to get offset word from a bitmask.  <a href="column__device__view_8cuh.html#a526ae09beaa4d7013419be4675b797e7">More...</a><br/></td></tr>
<tr class="separator:a526ae09beaa4d7013419be4675b797e7"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a41ebd14ec71e5f4bc79ae57707139ce0"><td class="memTemplParams" colspan="2">template&lt;typename ColumnDeviceView , typename ColumnViewIterator &gt; </td></tr>
<tr class="memitem:a41ebd14ec71e5f4bc79ae57707139ce0"><td align="right" class="memTemplItemLeft" valign="top">ColumnDeviceView * </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="column__device__view_8cuh.html#a41ebd14ec71e5f4bc79ae57707139ce0">cudf::detail::child_columns_to_device_array</a> (ColumnViewIterator child_begin, ColumnViewIterator child_end, void *h_ptr, void *d_ptr)</td></tr>
<tr class="memdesc:a41ebd14ec71e5f4bc79ae57707139ce0"><td class="mdescLeft"> </td><td class="mdescRight">Helper function for use by <a class="el" href="classcudf_1_1column__device__view.html" title="An immutable, non-owning view of device data as a column of elements that is trivially copyable and u...">column_device_view</a> and <a class="el" href="classcudf_1_1mutable__column__device__view.html" title="A mutable, non-owning view of device data as a column of elements that is trivially copyable and usab...">mutable_column_device_view</a> constructors to build device_views from views.  <a href="column__device__view_8cuh.html#a41ebd14ec71e5f4bc79ae57707139ce0">More...</a><br/></td></tr>
<tr class="separator:a41ebd14ec71e5f4bc79ae57707139ce0"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Column device view class definitons. </p>
<p class="definition">Definition in file <a class="el" href="column__device__view_8cuh_source.html">column_device_view.cuh</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a41ebd14ec71e5f4bc79ae57707139ce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ebd14ec71e5f4bc79ae57707139ce0">◆ </a></span>child_columns_to_device_array()</h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ColumnDeviceView , typename ColumnViewIterator &gt; </div>
<table class="memname">
<tr>
<td class="memname">ColumnDeviceView* cudf::detail::child_columns_to_device_array </td>
<td>(</td>
<td class="paramtype">ColumnViewIterator </td>
<td class="paramname"><em>child_begin</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">ColumnViewIterator </td>
<td class="paramname"><em>child_end</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>h_ptr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>d_ptr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Helper function for use by column_device_view and mutable_column_device_view constructors to build device_views from views. </p>
<p>It is used to build the array of child columns in device memory. Since child columns can also have child columns, this uses recursion to build up the flat device buffer to contain all the children and set the member pointers appropriately.</p>
<p>This is accomplished by laying out all the children and grand-children into a flat host buffer first but also keep a running device pointer to use when setting the d_children array result.</p>
<p>This function is provided both the host pointer in which to insert its children (and by recursion its grand-children) and the device pointer to be used when calculating ultimate device pointer for the d_children member.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
<table class="tparams">
<tr><td class="paramname">ColumnView</td><td>is either column_view or mutable_column_view </td></tr>
<tr><td class="paramname">ColumnDeviceView</td><td>is either column_device_view or mutable_column_device_view</td></tr>
</table>
</dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramname">child_begin</td><td>Iterator pointing to begin of child columns to make into a device view </td></tr>
<tr><td class="paramname">child_begin</td><td>Iterator pointing to end of child columns to make into a device view </td></tr>
<tr><td class="paramname">h_ptr</td><td>The host memory where to place any child data </td></tr>
<tr><td class="paramname">d_ptr</td><td>The device pointer for calculating the d_children member of any child data </td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The device pointer to be used for the d_children member of the given column </dd></dl>
<p class="definition">Definition at line <a class="el" href="column__device__view_8cuh_source.html#l00931">931</a> of file <a class="el" href="column__device__view_8cuh_source.html">column_device_view.cuh</a>.</p>
</div>
</div>
<a id="a526ae09beaa4d7013419be4675b797e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526ae09beaa4d7013419be4675b797e7">◆ </a></span>get_mask_offset_word()</h2>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">__device__ bitmask_type cudf::detail::get_mask_offset_word </td>
<td>(</td>
<td class="paramtype">bitmask_type const *__restrict__ </td>
<td class="paramname"><em>source</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_type </td>
<td class="paramname"><em>destination_word_index</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_type </td>
<td class="paramname"><em>source_begin_bit</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_type </td>
<td class="paramname"><em>source_end_bit</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convenience function to get offset word from a bitmask. </p>
<dl class="section see"><dt>See also</dt><dd>copy_offset_bitmask </dd>
<dd>
offset_bitmask_and </dd></dl>
<p class="definition">Definition at line <a class="el" href="column__device__view_8cuh_source.html#l00804">804</a> of file <a class="el" href="column__device__view_8cuh_source.html">column_device_view.cuh</a>.</p>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html"><img alt="doxygen" class="footer" height="31" src="doxygen.svg" width="104"/></a> 1.8.20
</small></address>
<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script></body>
</html>
