<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.8.20" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>libcudf: Compute Day</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="rapids.css" rel="stylesheet" type="text/css"/>
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" id="rapids-fa-tag" rel="stylesheet"/><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"/></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><div id="rapids-doxygen-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">libcudf</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/api.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cudf-java/stable">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable/api.html">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable/api.html">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/nightly/api.html">dask-cuda</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">stable (0.19)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/libcudf/nightly/namespacecudf.html">nightly (21.06)</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcudf/stable/namespacecudf.html">stable (0.19)</a><a class="rapids-selector__menu-item" href="/api/libcudf/legacy/namespacecudf.html">legacy (0.18)</a></div></div></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>
<div class="header">
<div class="summary">
<a href="#files">Files</a> |
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<div class="title">Compute Day<div class="ingroups"><a class="el" href="group__datetime__apis.html">DateTime</a></div></div> </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:datetime_8hpp"><td align="right" class="memItemLeft" valign="top">file  </td><td class="memItemRight" valign="bottom"><a class="el" href="datetime_8hpp.html">datetime.hpp</a></td></tr>
<tr class="memdesc:datetime_8hpp"><td class="mdescLeft"> </td><td class="mdescRight">DateTime column APIs. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga180c2f6373a9ad621a03e40e37090d7f"><td align="right" class="memItemLeft" valign="top">std::unique_ptr&lt; <a class="el" href="classcudf_1_1column.html">cudf::column</a> &gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="group__datetime__compute.html#ga180c2f6373a9ad621a03e40e37090d7f">cudf::datetime::last_day_of_month</a> (<a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp;<a class="el" href="classcudf_1_1column.html">column</a>, <a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a> *mr=<a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/per__device__resource_8hpp.html#a95bf69637b8f3d29b13b33562370fc8f">rmm::mr::get_current_device_resource</a>())</td></tr>
<tr class="memdesc:ga180c2f6373a9ad621a03e40e37090d7f"><td class="mdescLeft"> </td><td class="mdescRight">Computes the last day of the month in date time type and returns a TIMESTAMP_DAYS <a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a>.  <a href="group__datetime__compute.html#ga180c2f6373a9ad621a03e40e37090d7f">More...</a><br/></td></tr>
<tr class="separator:ga180c2f6373a9ad621a03e40e37090d7f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gaf720a4ff52bc8850f415aa994fff9c85"><td align="right" class="memItemLeft" valign="top">std::unique_ptr&lt; <a class="el" href="classcudf_1_1column.html">cudf::column</a> &gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="group__datetime__compute.html#gaf720a4ff52bc8850f415aa994fff9c85">cudf::datetime::day_of_year</a> (<a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp;<a class="el" href="classcudf_1_1column.html">column</a>, <a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a> *mr=<a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/per__device__resource_8hpp.html#a95bf69637b8f3d29b13b33562370fc8f">rmm::mr::get_current_device_resource</a>())</td></tr>
<tr class="memdesc:gaf720a4ff52bc8850f415aa994fff9c85"><td class="mdescLeft"> </td><td class="mdescRight">Computes the day number since the start of the year from the datetime and returns an int16_t <a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a>. The value is between [1, {365-366}].  <a href="group__datetime__compute.html#gaf720a4ff52bc8850f415aa994fff9c85">More...</a><br/></td></tr>
<tr class="separator:gaf720a4ff52bc8850f415aa994fff9c85"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gac1481e3f5e0f1cb431cb12aa75ec8ef5"><td align="right" class="memItemLeft" valign="top">std::unique_ptr&lt; <a class="el" href="classcudf_1_1column.html">cudf::column</a> &gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="group__datetime__compute.html#gac1481e3f5e0f1cb431cb12aa75ec8ef5">cudf::datetime::add_calendrical_months</a> (<a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp;timestamps, <a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp;months, <a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a> *mr=<a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/per__device__resource_8hpp.html#a95bf69637b8f3d29b13b33562370fc8f">rmm::mr::get_current_device_resource</a>())</td></tr>
<tr class="memdesc:gac1481e3f5e0f1cb431cb12aa75ec8ef5"><td class="mdescLeft"> </td><td class="mdescRight">Adds or subtracts a number of months from the date time type and returns a timestamp column that is of the same type as the input <code>timestamps</code> column.  <a href="group__datetime__compute.html#gac1481e3f5e0f1cb431cb12aa75ec8ef5">More...</a><br/></td></tr>
<tr class="separator:gac1481e3f5e0f1cb431cb12aa75ec8ef5"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac1481e3f5e0f1cb431cb12aa75ec8ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1481e3f5e0f1cb431cb12aa75ec8ef5">◆ </a></span>add_calendrical_months()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">std::unique_ptr&lt;<a class="el" href="classcudf_1_1column.html">cudf::column</a>&gt; cudf::datetime::add_calendrical_months </td>
<td>(</td>
<td class="paramtype"><a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp; </td>
<td class="paramname"><em>timestamps</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp; </td>
<td class="paramname"><em>months</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a> * </td>
<td class="paramname"><em>mr</em> = <code><a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/per__device__resource_8hpp.html#a95bf69637b8f3d29b13b33562370fc8f">rmm::mr::get_current_device_resource</a>()</code> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Adds or subtracts a number of months from the date time type and returns a timestamp column that is of the same type as the input <code>timestamps</code> column. </p>
<p>For a given row, if the <code>timestamps</code> or the <code>months</code> column value is null, the output for that row is null. This method preserves the input time and the day where applicable. The date is rounded down to the last day of the month for that year, if the new day is invalid for that month.</p>
<div class="fragment"><div class="line">Example:</div>
<div class="line">timestamps = [5/31/20 08:00:00, 5/31/20 00:00:00, 5/31/20 13:00:00, 5/31/20 23:00:00,</div>
<div class="line">              6/30/20 00:00:01, 6/30/20 14:12:13]</div>
<div class="line">months     = [1               , -1              , -3              , -15             ,</div>
<div class="line">              -1              , 1]</div>
<div class="line">r = add_calendrical_months(timestamp_column, months_column)</div>
<div class="line">r is [6/30/20 08:00:00, 4/30/20 00:00:00, 2/29/20 13:00:00, 2/28/19 23:00:00,</div>
<div class="line">      5/30/20 00:00:01, 7/30/20 14:12:13]</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">timestamps</td><td><a class="el" href="classcudf_1_1column__view.html" title="A non-owning, immutable view of device data as a column of elements, some of which may be null as ind...">cudf::column_view</a> of timestamp type. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">months</td><td><a class="el" href="classcudf_1_1column__view.html" title="A non-owning, immutable view of device data as a column of elements, some of which may be null as ind...">cudf::column_view</a> of integer type containing the number of months to add.</td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a> of timestamp type containing the computed timestamps. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
<table class="exception">
<tr><td class="paramname"><a class="el" href="structcudf_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cudf::logic_error</a></td><td>if <code>timestamps</code> datatype is not a TIMESTAMP or if <code>months</code> datatype is not INT16. </td></tr>
<tr><td class="paramname"><a class="el" href="structcudf_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cudf::logic_error</a></td><td>if <code>timestamps</code> column size is not equal to <code>months</code> column size. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="gaf720a4ff52bc8850f415aa994fff9c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf720a4ff52bc8850f415aa994fff9c85">◆ </a></span>day_of_year()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">std::unique_ptr&lt;<a class="el" href="classcudf_1_1column.html">cudf::column</a>&gt; cudf::datetime::day_of_year </td>
<td>(</td>
<td class="paramtype"><a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp; </td>
<td class="paramname"><em>column</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a> * </td>
<td class="paramname"><em>mr</em> = <code><a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/per__device__resource_8hpp.html#a95bf69637b8f3d29b13b33562370fc8f">rmm::mr::get_current_device_resource</a>()</code> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Computes the day number since the start of the year from the datetime and returns an int16_t <a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a>. The value is between [1, {365-366}]. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="classcudf_1_1column__view.html" title="A non-owning, immutable view of device data as a column of elements, some of which may be null as ind...">cudf::column_view</a></td><td>of the input datetime values</td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a> of datatype INT16 containing the day number since the start of the year. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
<table class="exception">
<tr><td class="paramname"><a class="el" href="structcudf_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cudf::logic_error</a></td><td>if input column datatype is not a TIMESTAMP </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga180c2f6373a9ad621a03e40e37090d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga180c2f6373a9ad621a03e40e37090d7f">◆ </a></span>last_day_of_month()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">std::unique_ptr&lt;<a class="el" href="classcudf_1_1column.html">cudf::column</a>&gt; cudf::datetime::last_day_of_month </td>
<td>(</td>
<td class="paramtype"><a class="el" href="classcudf_1_1column__view.html">cudf::column_view</a> const &amp; </td>
<td class="paramname"><em>column</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/classrmm_1_1mr_1_1device__memory__resource.html">rmm::mr::device_memory_resource</a> * </td>
<td class="paramname"><em>mr</em> = <code><a class="elRef" href="https://docs.rapids.ai/api/librmm/0.19/per__device__resource_8hpp.html#a95bf69637b8f3d29b13b33562370fc8f">rmm::mr::get_current_device_resource</a>()</code> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Computes the last day of the month in date time type and returns a TIMESTAMP_DAYS <a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="classcudf_1_1column__view.html" title="A non-owning, immutable view of device data as a column of elements, some of which may be null as ind...">cudf::column_view</a></td><td>of the input datetime values</td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classcudf_1_1column.html" title="A container of nullable device data as a column of elements.">cudf::column</a> containing last day of the month as TIMESTAMP_DAYS </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
<table class="exception">
<tr><td class="paramname"><a class="el" href="structcudf_1_1logic__error.html" title="Exception thrown when logical precondition is violated.">cudf::logic_error</a></td><td>if input column datatype is not TIMESTAMP </td></tr>
</table>
</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html"><img alt="doxygen" class="footer" height="31" src="doxygen.svg" width="104"/></a> 1.8.20
</small></address>
<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script></body>
</html>
