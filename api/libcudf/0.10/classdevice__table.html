<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcudf: device_table Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcudf
   &#160;<span id="projectnumber">0.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classdevice__table-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">device_table Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Lightweight wrapper for a device array of <code>gdf_column</code>s of the same size.  
 <a href="classdevice__table.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a95c398b306f106902a581269ff10ce5e"><td class="memItemLeft" align="right" valign="top">__host__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__table.html#a95c398b306f106902a581269ff10ce5e">destroy</a> (<a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a> stream)</td></tr>
<tr class="memdesc:a95c398b306f106902a581269ff10ce5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the <code><a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a></code>.  <a href="classdevice__table.html#a95c398b306f106902a581269ff10ce5e">More...</a><br /></td></tr>
<tr class="separator:a95c398b306f106902a581269ff10ce5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701bb7cae65359429f0c85588f2593ae"><td class="memItemLeft" align="right" valign="top"><a id="a701bb7cae65359429f0c85588f2593ae"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>device_table</b> (<a class="el" href="classdevice__table.html">device_table</a> const &amp;other)=default</td></tr>
<tr class="separator:a701bb7cae65359429f0c85588f2593ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c99e46c9c817868af0acfdb91183d4"><td class="memItemLeft" align="right" valign="top"><a id="aa6c99e46c9c817868af0acfdb91183d4"></a>
<a class="el" href="classdevice__table.html">device_table</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classdevice__table.html">device_table</a> const &amp;other)=default</td></tr>
<tr class="separator:aa6c99e46c9c817868af0acfdb91183d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae34b18860b287060d03bf5351f599b"><td class="memItemLeft" align="right" valign="top"><a id="acae34b18860b287060d03bf5351f599b"></a>
__device__ <a class="el" href="structgdf__column__.html">gdf_column</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><b>get_column</b> (gdf_size_type index) const</td></tr>
<tr class="separator:acae34b18860b287060d03bf5351f599b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66bbe24060e5d193ebc65c31d4c5182e"><td class="memItemLeft" align="right" valign="top"><a id="a66bbe24060e5d193ebc65c31d4c5182e"></a>
__device__ <a class="el" href="structgdf__column__.html">gdf_column</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> () const</td></tr>
<tr class="separator:a66bbe24060e5d193ebc65c31d4c5182e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae1361cf8cdb6ff0c10e72ec25ab108"><td class="memItemLeft" align="right" valign="top"><a id="acae1361cf8cdb6ff0c10e72ec25ab108"></a>
__device__ <a class="el" href="structgdf__column__.html">gdf_column</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> () const</td></tr>
<tr class="separator:acae1361cf8cdb6ff0c10e72ec25ab108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa646e421e28339ffaca8a63f6d2fcd28"><td class="memItemLeft" align="right" valign="top"><a id="aa646e421e28339ffaca8a63f6d2fcd28"></a>
__host__ __device__ gdf_size_type&#160;</td><td class="memItemRight" valign="bottom"><b>num_columns</b> () const</td></tr>
<tr class="separator:aa646e421e28339ffaca8a63f6d2fcd28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f4ce0ee804d9b5d01f7c8ffe5bc6864"><td class="memItemLeft" align="right" valign="top"><a id="a0f4ce0ee804d9b5d01f7c8ffe5bc6864"></a>
__host__ __device__ gdf_size_type&#160;</td><td class="memItemRight" valign="bottom"><b>num_rows</b> () const</td></tr>
<tr class="separator:a0f4ce0ee804d9b5d01f7c8ffe5bc6864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5013fb06815fb3e1b7cee0ce74eb896c"><td class="memItemLeft" align="right" valign="top"><a id="a5013fb06815fb3e1b7cee0ce74eb896c"></a>
__host__ __device__ bool&#160;</td><td class="memItemRight" valign="bottom"><b>has_nulls</b> () const</td></tr>
<tr class="separator:a5013fb06815fb3e1b7cee0ce74eb896c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a23a5d82de003cd01601d5ea1dd0a9caf"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__table.html#a23a5d82de003cd01601d5ea1dd0a9caf">create</a> (gdf_size_type num_columns, <a class="el" href="structgdf__column__.html">gdf_column</a> const *const *cols, <a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a> stream=0)</td></tr>
<tr class="memdesc:a23a5d82de003cd01601d5ea1dd0a9caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory function to construct a <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> wrapped in a unique_ptr.  <a href="classdevice__table.html#a23a5d82de003cd01601d5ea1dd0a9caf">More...</a><br /></td></tr>
<tr class="separator:a23a5d82de003cd01601d5ea1dd0a9caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa122b7f414960ff7aa0e2afb2c6928dc"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__table.html#aa122b7f414960ff7aa0e2afb2c6928dc">create</a> (<a class="el" href="structcudf_1_1table.html">cudf::table</a> const &amp;t, <a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a> stream=0)</td></tr>
<tr class="memdesc:aa122b7f414960ff7aa0e2afb2c6928dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> from a <code><a class="el" href="structcudf_1_1table.html" title="A wrapper for a set of gdf_columns of equal number of rows.">cudf::table</a></code>  <a href="classdevice__table.html#aa122b7f414960ff7aa0e2afb2c6928dc">More...</a><br /></td></tr>
<tr class="separator:aa122b7f414960ff7aa0e2afb2c6928dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a25e7c41387937831d6413dc2621009d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__table.html#a25e7c41387937831d6413dc2621009d6">device_table</a> (gdf_size_type num_cols, <a class="el" href="structgdf__column__.html">gdf_column</a> const *const *columns, <a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a> stream=0)</td></tr>
<tr class="memdesc:a25e7c41387937831d6413dc2621009d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> object from an array of <code>gdf_column*</code>.  <a href="classdevice__table.html#a25e7c41387937831d6413dc2621009d6">More...</a><br /></td></tr>
<tr class="separator:a25e7c41387937831d6413dc2621009d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Lightweight wrapper for a device array of <code>gdf_column</code>s of the same size. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a25e7c41387937831d6413dc2621009d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e7c41387937831d6413dc2621009d6">&#9670;&nbsp;</a></span>device_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">device_table::device_table </td>
          <td>(</td>
          <td class="paramtype">gdf_size_type&#160;</td>
          <td class="paramname"><em>num_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgdf__column__.html">gdf_column</a> const *const *&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a>&#160;</td>
          <td class="paramname"><em>stream</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> object from an array of <code>gdf_column*</code>. </p>
<p>------------------------------------------------------------------------&mdash;* This constructor is protected to require use of the <a class="el" href="classdevice__table.html#a23a5d82de003cd01601d5ea1dd0a9caf" title="Factory function to construct a device_table wrapped in a unique_ptr.">device_table::create</a> factory method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_cols</td><td>The number of columns to wrap </td></tr>
  </table>
  </dd>
</dl>
<h2><a class="anchor" id="autotoc_md168"></a>
@param columns An array of columns to copy to device memory</h2>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa122b7f414960ff7aa0e2afb2c6928dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa122b7f414960ff7aa0e2afb2c6928dc">&#9670;&nbsp;</a></span>create() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto device_table::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcudf_1_1table.html">cudf::table</a> const &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a>&#160;</td>
          <td class="paramname"><em>stream</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> from a <code><a class="el" href="structcudf_1_1table.html" title="A wrapper for a set of gdf_columns of equal number of rows.">cudf::table</a></code> </p>
<p>------------------------------------------------------------------------&mdash;* </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>The <code><a class="el" href="structcudf_1_1table.html" title="A wrapper for a set of gdf_columns of equal number of rows.">cudf::table</a></code> to wrap </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to use for allocations/frees </td></tr>
  </table>
  </dd>
</dl>
<h2><a class="anchor" id="autotoc_md166"></a>
@return A unique_ptr containing a device_table object</h2>

</div>
</div>
<a id="a23a5d82de003cd01601d5ea1dd0a9caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a5d82de003cd01601d5ea1dd0a9caf">&#9670;&nbsp;</a></span>create() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto device_table::create </td>
          <td>(</td>
          <td class="paramtype">gdf_size_type&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgdf__column__.html">gdf_column</a> const *const *&#160;</td>
          <td class="paramname"><em>cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a>&#160;</td>
          <td class="paramname"><em>stream</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory function to construct a <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> wrapped in a unique_ptr. </p>
<p>------------------------------------------------------------------------&mdash;* Because this class allocates device memory, and we want to be sure that device memory is free'd, this factory function returns a <a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a> wrapped in a unique_ptr with a custom deleter that frees the device memory.</p>
<p>The class' destructor does <b>not</b> free the device memory, because we would like to be able to pass instances of this class by value into kernels via a shallow-copy (i.e., just copying the pointers without allocating any new device memory). Since it is shallow copied, if the destructor were to free the device memory, then you would end up trying to free the underlying device memory any time a copy is destroyed.</p>
<p>Instead, the underlying device memory will not be free'd until the returned <code>unique_ptr</code> invokes its deleter.</p>
<p>The methods of this class with <code>stream</code> parameters are asynchronous with respect to other CUDA streams and do not synchronize <code>stream</code>. Usage: </p><div class="fragment"><div class="line"><a class="code" href="structgdf__column__.html">gdf_column</a> * col;</div>
<div class="line"><span class="keyword">auto</span> device_table_ptr = <a class="code" href="classdevice__table.html#a23a5d82de003cd01601d5ea1dd0a9caf">device_table::create</a>(1, &amp;col);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Table is passed by **value**, i.e., shallow copy into kernel</span></div>
<div class="line">some_kernel&lt;&lt;&lt;...&gt;&gt;&gt;(*device_table_ptr);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num_columns</td><td>The number of columns </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cols</td><td>Array of columns </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>CUDA stream to use for device operations </td></tr>
  </table>
  </dd>
</dl>
<h2><a class="anchor" id="autotoc_md165"></a>
@return A unique_ptr containing a device_table object</h2>

</div>
</div>
<a id="a95c398b306f106902a581269ff10ce5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c398b306f106902a581269ff10ce5e">&#9670;&nbsp;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">__host__ void device_table::destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8hpp.html#a27a677c66bef483a40f3d65c02b09e0f">cudaStream_t</a>&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys the <code><a class="el" href="classdevice__table.html" title="Lightweight wrapper for a device array of gdf_columns of the same size.">device_table</a></code>. </p>
<p>------------------------------------------------------------------------&mdash;* Frees the underlying device memory and deletes the object.</p>
<p>This function is invoked by the deleter of the unique_ptr returned from <a class="el" href="classdevice__table.html#a23a5d82de003cd01601d5ea1dd0a9caf" title="Factory function to construct a device_table wrapped in a unique_ptr.">device_table::create</a>.</p>
<hr  />
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>device_table.cuh</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="astructgdf__column___html"><div class="ttname"><a href="structgdf__column__.html">gdf_column_</a></div><div class="ttdoc">The C representation of a column in CUDF. This is the main unit of operation.</div><div class="ttdef"><b>Definition:</b> types.h:137</div></div>
<div class="ttc" id="aclassdevice__table_html_a23a5d82de003cd01601d5ea1dd0a9caf"><div class="ttname"><a href="classdevice__table.html#a23a5d82de003cd01601d5ea1dd0a9caf">device_table::create</a></div><div class="ttdeci">static auto create(gdf_size_type num_columns, gdf_column const *const *cols, cudaStream_t stream=0)</div><div class="ttdoc">Factory function to construct a device_table wrapped in a unique_ptr.</div><div class="ttdef"><b>Definition:</b> device_table.cuh:75</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
