<!DOCTYPE html>
<html class="writer-html5" lang="en"><head>
  <meta charset="utf-8"><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator">

  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>API Reference &mdash; rmm 23.04.00 documentation</title>
      <link href="_static/pygments.css" rel="stylesheet" type="text/css">
      <link href="_static/css/theme.css" rel="stylesheet" type="text/css">
      <link href="_static/copybutton.css" rel="stylesheet" type="text/css">
      <link href="https://docs.rapids.ai/assets/css/custom.css" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/copybutton_pydocs.js"></script>
        <script defer="defer" src="https://docs.rapids.ai/assets/js/custom.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link href="genindex.html" rel="index" title="Index">
    <link href="search.html" rel="search" title="Search">
    <link href="basics.html" rel="prev" title="RMM - the RAPIDS Memory Manager"> 
<script id="rapids-selector-pixel-src" src="https://assets.adobedtm.com/5d4962a43b79/814eb6e9b4e1/launch-4bc07f1e0b0b.min.js"></script><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav class="wy-nav-side" data-toggle="wy-nav-shift">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"><div id="rapids-jtd-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">rmm</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cucim/stable/api.html">cucim</a><a class="rapids-selector__menu-item" href="/api/cudf-java/stable">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/index.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/dask-cuda/stable/api.html">dask-cuda</a><a class="rapids-selector__menu-item" href="/api/kvikio/stable/api.html">kvikio</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/libcuspatial/stable">libcuspatial</a><a class="rapids-selector__menu-item" href="/api/libkvikio/stable">libkvikio</a><a class="rapids-selector__menu-item" href="/api/librmm/stable/annotated.html">librmm</a><a class="rapids-selector__menu-item" href="/api/raft/stable">raft</a><a class="rapids-selector__menu-item" href="/api/rapids-cmake/stable/api.html">rapids-cmake</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/rmm/stable/api.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">nightly (23.04)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/rmm/nightly/api.html">nightly (23.04)</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/api.html">stable (23.02)</a><a class="rapids-selector__menu-item" href="/api/rmm/legacy/api.html">legacy (22.12)</a></div></div></div>
            
              
<div role="search">
  <form action="search.html" class="wy-form" id="rtd-search-form" method="get">
    <input name="q" placeholder="Search docs" type="text">
    <input name="check_keywords" type="hidden" value="yes">
    <input name="area" type="hidden" value="default">
  </form>
</div>
        </div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html">RMM - the RAPIDS Memory Manager</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-rmm">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rmm.DeviceBuffer"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.capacity"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.capacity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.copy"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.copy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.copy_from_device"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.copy_from_device()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.copy_from_host"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.copy_from_host()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.copy_to_host"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.copy_to_host()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.nbytes"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.nbytes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.ptr"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.ptr</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.reserve"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.reserve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.resize"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.resize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.size"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.to_device"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.to_device()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.DeviceBuffer.tobytes"><code class="docutils literal notranslate"><span class="pre">DeviceBuffer.tobytes()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.RMMError"><code class="docutils literal notranslate"><span class="pre">RMMError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.RMMNumbaManager"><code class="docutils literal notranslate"><span class="pre">RMMNumbaManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.RMMNumbaManager.get_ipc_handle"><code class="docutils literal notranslate"><span class="pre">RMMNumbaManager.get_ipc_handle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.RMMNumbaManager.get_memory_info"><code class="docutils literal notranslate"><span class="pre">RMMNumbaManager.get_memory_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.RMMNumbaManager.initialize"><code class="docutils literal notranslate"><span class="pre">RMMNumbaManager.initialize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.RMMNumbaManager.interface_version"><code class="docutils literal notranslate"><span class="pre">RMMNumbaManager.interface_version</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.RMMNumbaManager.memalloc"><code class="docutils literal notranslate"><span class="pre">RMMNumbaManager.memalloc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.disable_logging"><code class="docutils literal notranslate"><span class="pre">disable_logging()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.enable_logging"><code class="docutils literal notranslate"><span class="pre">enable_logging()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.get_log_filenames"><code class="docutils literal notranslate"><span class="pre">get_log_filenames()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.get_versions"><code class="docutils literal notranslate"><span class="pre">get_versions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.is_initialized"><code class="docutils literal notranslate"><span class="pre">is_initialized()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.register_reinitialize_hook"><code class="docutils literal notranslate"><span class="pre">register_reinitialize_hook()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.reinitialize"><code class="docutils literal notranslate"><span class="pre">reinitialize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.rmm_cupy_allocator"><code class="docutils literal notranslate"><span class="pre">rmm_cupy_allocator()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.unregister_reinitialize_hook"><code class="docutils literal notranslate"><span class="pre">unregister_reinitialize_hook()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-rmm.mr">Memory Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.BinningMemoryResource"><code class="docutils literal notranslate"><span class="pre">BinningMemoryResource</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.BinningMemoryResource.add_bin"><code class="docutils literal notranslate"><span class="pre">BinningMemoryResource.add_bin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.BinningMemoryResource.bin_mrs"><code class="docutils literal notranslate"><span class="pre">BinningMemoryResource.bin_mrs</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.CallbackMemoryResource"><code class="docutils literal notranslate"><span class="pre">CallbackMemoryResource</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.CudaAsyncMemoryResource"><code class="docutils literal notranslate"><span class="pre">CudaAsyncMemoryResource</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.CudaMemoryResource"><code class="docutils literal notranslate"><span class="pre">CudaMemoryResource</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.DeviceMemoryResource"><code class="docutils literal notranslate"><span class="pre">DeviceMemoryResource</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.DeviceMemoryResource.allocate"><code class="docutils literal notranslate"><span class="pre">DeviceMemoryResource.allocate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.DeviceMemoryResource.deallocate"><code class="docutils literal notranslate"><span class="pre">DeviceMemoryResource.deallocate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.FailureCallbackResourceAdaptor"><code class="docutils literal notranslate"><span class="pre">FailureCallbackResourceAdaptor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.FixedSizeMemoryResource"><code class="docutils literal notranslate"><span class="pre">FixedSizeMemoryResource</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.LoggingResourceAdaptor"><code class="docutils literal notranslate"><span class="pre">LoggingResourceAdaptor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.LoggingResourceAdaptor.flush"><code class="docutils literal notranslate"><span class="pre">LoggingResourceAdaptor.flush()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.LoggingResourceAdaptor.get_file_name"><code class="docutils literal notranslate"><span class="pre">LoggingResourceAdaptor.get_file_name()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.ManagedMemoryResource"><code class="docutils literal notranslate"><span class="pre">ManagedMemoryResource</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.PoolMemoryResource"><code class="docutils literal notranslate"><span class="pre">PoolMemoryResource</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.PoolMemoryResource.pool_size"><code class="docutils literal notranslate"><span class="pre">PoolMemoryResource.pool_size()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.StatisticsResourceAdaptor"><code class="docutils literal notranslate"><span class="pre">StatisticsResourceAdaptor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.StatisticsResourceAdaptor.allocation_counts"><code class="docutils literal notranslate"><span class="pre">StatisticsResourceAdaptor.allocation_counts</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor"><code class="docutils literal notranslate"><span class="pre">TrackingResourceAdaptor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor.get_allocated_bytes"><code class="docutils literal notranslate"><span class="pre">TrackingResourceAdaptor.get_allocated_bytes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor.get_outstanding_allocations_str"><code class="docutils literal notranslate"><span class="pre">TrackingResourceAdaptor.get_outstanding_allocations_str()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor.log_outstanding_allocations"><code class="docutils literal notranslate"><span class="pre">TrackingResourceAdaptor.log_outstanding_allocations()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.disable_logging"><code class="docutils literal notranslate"><span class="pre">disable_logging()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.enable_logging"><code class="docutils literal notranslate"><span class="pre">enable_logging()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.get_current_device_resource"><code class="docutils literal notranslate"><span class="pre">get_current_device_resource()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.get_current_device_resource_type"><code class="docutils literal notranslate"><span class="pre">get_current_device_resource_type()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.get_log_filenames"><code class="docutils literal notranslate"><span class="pre">get_log_filenames()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.get_per_device_resource"><code class="docutils literal notranslate"><span class="pre">get_per_device_resource()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.get_per_device_resource_type"><code class="docutils literal notranslate"><span class="pre">get_per_device_resource_type()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.is_initialized"><code class="docutils literal notranslate"><span class="pre">is_initialized()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.set_current_device_resource"><code class="docutils literal notranslate"><span class="pre">set_current_device_resource()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmm.mr.set_per_device_resource"><code class="docutils literal notranslate"><span class="pre">set_per_device_resource()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
          <i class="fa fa-bars" data-toggle="wy-nav-top"></i>
          <a href="index.html">rmm</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div aria-label="Page navigation" role="navigation">
  <ul class="wy-breadcrumbs">
      <li><a class="icon icon-home" href="index.html"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr>
</div>
          <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading">&para;</a></h1>
<section id="module-rmm">
<span id="module-contents"></span><h2>Module Contents<a class="headerlink" href="#module-rmm" title="Permalink to this heading">&para;</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="rmm.DeviceBuffer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">DeviceBuffer</span></span><a class="headerlink" href="#rmm.DeviceBuffer" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#rmm.DeviceBuffer.nbytes" title="rmm.DeviceBuffer.nbytes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nbytes</span></code></a></dt><dd><p>Gets the size of the buffer in bytes.</p>
</dd>
<dt><a class="reference internal" href="#rmm.DeviceBuffer.ptr" title="rmm.DeviceBuffer.ptr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ptr</span></code></a></dt><dd><p>Gets a pointer to the underlying data.</p>
</dd>
<dt><a class="reference internal" href="#rmm.DeviceBuffer.size" title="rmm.DeviceBuffer.size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">size</span></code></a></dt><dd><p>Gets the size of the buffer in bytes.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.capacity" title="rmm.DeviceBuffer.capacity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">capacity</span></code></a>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.copy" title="rmm.DeviceBuffer.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>(self)</p></td>
<td><p>Returns a copy of DeviceBuffer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.copy_from_device" title="rmm.DeviceBuffer.copy_from_device"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_from_device</span></code></a>(self,&nbsp;cuda_ary,&nbsp;...)</p></td>
<td><p>Copy from a buffer on host to <code class="docutils literal notranslate"><span class="pre">self</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.copy_from_host" title="rmm.DeviceBuffer.copy_from_host"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_from_host</span></code></a>(self,&nbsp;ary,&nbsp;...)</p></td>
<td><p>Copy from a buffer on host to <code class="docutils literal notranslate"><span class="pre">self</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.copy_to_host" title="rmm.DeviceBuffer.copy_to_host"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_to_host</span></code></a>(self[,&nbsp;ary])</p></td>
<td><p>Copy from a <code class="docutils literal notranslate"><span class="pre">DeviceBuffer</span></code> to a buffer on host.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.reserve" title="rmm.DeviceBuffer.reserve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reserve</span></code></a>(self,&nbsp;size_t&nbsp;new_capacity,&nbsp;...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.resize" title="rmm.DeviceBuffer.resize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resize</span></code></a>(self,&nbsp;size_t&nbsp;new_size,&nbsp;...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.to_device" title="rmm.DeviceBuffer.to_device"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_device</span></code></a>(const&nbsp;unsigned&nbsp;char[,&nbsp;...)</p></td>
<td><p>Calls <code class="docutils literal notranslate"><span class="pre">to_device</span></code> function on arguments provided.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.DeviceBuffer.tobytes" title="rmm.DeviceBuffer.tobytes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tobytes</span></code></a>(self,&nbsp;Stream&nbsp;stream=DEFAULT_STREAM)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.capacity">
<span class="sig-name descname"><span class="pre">capacity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><span class="pre">size_t</span></span></span><a class="headerlink" href="#rmm.DeviceBuffer.capacity" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.DeviceBuffer.copy" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a copy of DeviceBuffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>A deep copy of existing <code class="docutils literal notranslate"><span class="pre">DeviceBuffer</span></code></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">DeviceBuffer</span><span class="o">.</span><span class="n">to_device</span><span class="p">(</span><span class="sa">b</span><span class="s2">"abc"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_copy</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">()</span>
<span class="go">array([97, 98, 99], dtype=uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_copy</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">()</span>
<span class="go">array([97, 98, 99], dtype=uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">db</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">db_copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">db</span><span class="o">.</span><span class="n">ptr</span> <span class="o">!=</span> <span class="n">db_copy</span><span class="o">.</span><span class="n">ptr</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.copy_from_device">
<span class="sig-name descname"><span class="pre">copy_from_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuda_ary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.DeviceBuffer.copy_from_device" title="Permalink to this definition">&para;</a></dt>
<dd><p>Copy from a buffer on host to <code class="docutils literal notranslate"><span class="pre">self</span></code></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>cuda_ary</strong><span class="classifier">object to copy from that has <code class="docutils literal notranslate"><span class="pre">__cuda_array_interface__</span></code></span></dt><dd></dd>
<dt><strong>stream</strong><span class="classifier">CUDA stream to use for copying, default the default stream</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">DeviceBuffer</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">DeviceBuffer</span><span class="o">.</span><span class="n">to_device</span><span class="p">(</span><span class="sa">b</span><span class="s2">"abc"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">copy_from_device</span><span class="p">(</span><span class="n">db2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hb</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hb</span><span class="p">)</span>
<span class="go">array([97, 98, 99,  0,  0], dtype=uint8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.copy_from_host">
<span class="sig-name descname"><span class="pre">copy_from_host</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.DeviceBuffer.copy_from_host" title="Permalink to this definition">&para;</a></dt>
<dd><p>Copy from a buffer on host to <code class="docutils literal notranslate"><span class="pre">self</span></code></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>ary</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bytes</span></code>-like buffer to copy from</span></dt><dd></dd>
<dt><strong>stream</strong><span class="classifier">CUDA stream to use for copying, default the default stream</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">DeviceBuffer</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hb</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">"abcdef"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">copy_from_host</span><span class="p">(</span><span class="n">hb</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hb</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hb</span><span class="p">)</span>
<span class="go">array([97, 98, 99,  0,  0,  0,  0,  0,  0,  0], dtype=uint8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.copy_to_host">
<span class="sig-name descname"><span class="pre">copy_to_host</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ary=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.DeviceBuffer.copy_to_host" title="Permalink to this definition">&para;</a></dt>
<dd><p>Copy from a <code class="docutils literal notranslate"><span class="pre">DeviceBuffer</span></code> to a buffer on host.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>ary</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bytes</span></code>-like buffer to write into</span></dt><dd></dd>
<dt><strong>stream</strong><span class="classifier">CUDA stream to use for copying, default the default stream</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">DeviceBuffer</span><span class="o">.</span><span class="n">to_device</span><span class="p">(</span><span class="sa">b</span><span class="s2">"abc"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hb</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">nbytes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">(</span><span class="n">hb</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hb</span><span class="p">)</span>
<span class="go">bytearray(b'abc')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hb</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hb</span><span class="p">)</span>
<span class="go">bytearray(b'abc')</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.nbytes">
<span class="sig-name descname"><span class="pre">nbytes</span></span><a class="headerlink" href="#rmm.DeviceBuffer.nbytes" title="Permalink to this definition">&para;</a></dt>
<dd><p>Gets the size of the buffer in bytes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.ptr">
<span class="sig-name descname"><span class="pre">ptr</span></span><a class="headerlink" href="#rmm.DeviceBuffer.ptr" title="Permalink to this definition">&para;</a></dt>
<dd><p>Gets a pointer to the underlying data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.reserve">
<span class="sig-name descname"><span class="pre">reserve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">new_capacity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#rmm.DeviceBuffer.reserve" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.resize">
<span class="sig-name descname"><span class="pre">resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">new_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#rmm.DeviceBuffer.resize" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.size">
<span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#rmm.DeviceBuffer.size" title="Permalink to this definition">&para;</a></dt>
<dd><p>Gets the size of the buffer in bytes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.to_device">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">const</span> <span class="pre">unsigned</span> <span class="pre">char[::1]</span> <span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.DeviceBuffer.to_device" title="Permalink to this definition">&para;</a></dt>
<dd><p>Calls <code class="docutils literal notranslate"><span class="pre">to_device</span></code> function on arguments provided.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.DeviceBuffer.tobytes">
<span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Stream</span> <span class="pre">stream=DEFAULT_STREAM</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)"><span class="pre">bytes</span></a></span></span><a class="headerlink" href="#rmm.DeviceBuffer.tobytes" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="rmm.RMMError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">RMMError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.RMMError" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.RMMNumbaManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">RMMNumbaManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.RMMNumbaManager" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">HostOnlyCUDAMemoryManager</span></code></p>
<p>External Memory Management Plugin implementation for Numba. Provides
on-device allocation only.</p>
<p>See <a class="reference external" href="https://numba.readthedocs.io/en/stable/cuda/external-memory.html">https://numba.readthedocs.io/en/stable/cuda/external-memory.html</a> for
details of the interface being implemented here.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#rmm.RMMNumbaManager.interface_version" title="rmm.RMMNumbaManager.interface_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interface_version</span></code></a></dt><dd><p>Returns an integer specifying the version of the EMM Plugin interface supported by the plugin implementation.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">defer_cleanup</span></code>()</p></td>
<td><p>Returns a context manager that disables cleanup of mapped or pinned host memory in the current context whilst it is active.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.RMMNumbaManager.get_ipc_handle" title="rmm.RMMNumbaManager.get_ipc_handle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ipc_handle</span></code></a>(memory)</p></td>
<td><p>Get an IPC handle for the MemoryPointer memory with offset modified by the RMM memory pool.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.RMMNumbaManager.get_memory_info" title="rmm.RMMNumbaManager.get_memory_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_memory_info</span></code></a>()</p></td>
<td><p>Returns <code class="docutils literal notranslate"><span class="pre">(free,</span> <span class="pre">total)</span></code> memory in bytes in the context.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.RMMNumbaManager.initialize" title="rmm.RMMNumbaManager.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize</span></code></a>()</p></td>
<td><p>Perform any initialization required for the EMM plugin instance to be ready to use.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.RMMNumbaManager.memalloc" title="rmm.RMMNumbaManager.memalloc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">memalloc</span></code></a>(size)</p></td>
<td><p>Allocate an on-device array from the RMM pool.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">memhostalloc</span></code>(size[,&nbsp;mapped,&nbsp;portable,&nbsp;wc])</p></td>
<td><p>Implements the allocation of pinned host memory.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mempin</span></code>(owner,&nbsp;pointer,&nbsp;size[,&nbsp;mapped])</p></td>
<td><p>Implements the pinning of host memory.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code>()</p></td>
<td><p>Clears up all host memory (mapped and/or pinned) in the current context.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 66%">
<col style="width: 34%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>memallocmanaged</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.RMMNumbaManager.get_ipc_handle">
<span class="sig-name descname"><span class="pre">get_ipc_handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.RMMNumbaManager.get_ipc_handle" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get an IPC handle for the MemoryPointer memory with offset modified by
the RMM memory pool.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.RMMNumbaManager.get_memory_info">
<span class="sig-name descname"><span class="pre">get_memory_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.RMMNumbaManager.get_memory_info" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">(free,</span> <span class="pre">total)</span></code> memory in bytes in the context. May raise
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>, if returning such information is not
practical (e.g. for a pool allocator).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Memory info</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MemoryInfo</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.RMMNumbaManager.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.RMMNumbaManager.initialize" title="Permalink to this definition">&para;</a></dt>
<dd><p>Perform any initialization required for the EMM plugin instance to be
ready to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="rmm.RMMNumbaManager.interface_version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interface_version</span></span><a class="headerlink" href="#rmm.RMMNumbaManager.interface_version" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns an integer specifying the version of the EMM Plugin interface
supported by the plugin implementation. Should always return 1 for
implementations of this version of the specification.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.RMMNumbaManager.memalloc">
<span class="sig-name descname"><span class="pre">memalloc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.RMMNumbaManager.memalloc" title="Permalink to this definition">&para;</a></dt>
<dd><p>Allocate an on-device array from the RMM pool.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.disable_logging">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">disable_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.disable_logging" title="Permalink to this definition">&para;</a></dt>
<dd><p>Disable logging if it was enabled previously using
<cite>rmm.initialize()</cite> or <cite>rmm.enable_logging()</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.enable_logging">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">enable_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.enable_logging" title="Permalink to this definition">&para;</a></dt>
<dd><p>Enable logging of run-time events for all devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>log_file_name:  str, optional</strong></dt><dd><p>Name of the log file. If not specified, the environment variable
RMM_LOG_FILE is used. A ValueError is thrown if neither is available.
A separate log file is produced for each device,
and the suffix <cite>&ldquo;.dev{id}&rdquo;</cite> is automatically added to the log file
name.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Note that if you use the environment variable CUDA_VISIBLE_DEVICES
with logging enabled, the suffix may not be what you expect. For
example, if you set CUDA_VISIBLE_DEVICES=1, the log file produced
will still have suffix <cite>0</cite>. Similarly, if you set
CUDA_VISIBLE_DEVICES=1,0 and use devices 0 and 1, the log file
with suffix <cite>0</cite> will correspond to the GPU with device ID <cite>1</cite>.
Use <cite>rmm.get_log_filenames()</cite> to get the log file names
corresponding to each device.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.get_log_filenames">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">get_log_filenames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.get_log_filenames" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the log filename (or <cite>None</cite> if not writing logs)
for each device in use.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmm</span><span class="o">.</span><span class="n">reinitialize</span><span class="p">(</span><span class="n">devices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">logging</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_file_name</span><span class="o">=</span><span class="s2">"rmm.log"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmm</span><span class="o">.</span><span class="n">get_log_filenames</span><span class="p">()</span>
<span class="go">{0: '/home/user/workspace/rapids/rmm/python/rmm.dev0.log',</span>
<span class="go"> 1: '/home/user/workspace/rapids/rmm/python/rmm.dev1.log'}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.get_versions">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">get_versions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.get_versions" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.is_initialized">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">is_initialized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.is_initialized" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns True if RMM has been initialized, False otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.register_reinitialize_hook">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">register_reinitialize_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.register_reinitialize_hook" title="Permalink to this definition">&para;</a></dt>
<dd><p>Add a function to the list of functions (&ldquo;hooks&rdquo;) that will be
called before <a class="reference internal" href="#rmm.reinitialize" title="rmm.reinitialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">reinitialize()</span></code></a>.</p>
<p>A user or library may register hooks to perform any necessary
cleanup before RMM is reinitialized. For example, a library with
an internal cache of objects that use device memory allocated by
RMM can register a hook to release those references before RMM is
reinitialized, thus ensuring that the relevant device memory
resource can be deallocated.</p>
<p>Hooks are called in the <em>reverse</em> order they are registered. This
is useful, for example, when a library registers multiple hooks
and needs them to run in a specific order for cleanup to be safe.
Hooks cannot rely on being registered in a particular order
relative to hooks registered by other packages, since that is
determined by package import ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">callable</span></dt><dd><p>Function to be called before <a class="reference internal" href="#rmm.reinitialize" title="rmm.reinitialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">reinitialize()</span></code></a></p>
</dd>
<dt><strong>args, kwargs</strong></dt><dd><p>Positional and keyword arguments to be passed to <cite>func</cite></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.reinitialize">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">reinitialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool_allocator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">managed_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_pool_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum_pool_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">devices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logging</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.reinitialize" title="Permalink to this definition">&para;</a></dt>
<dd><p>Finalizes and then initializes RMM using the options passed. Using memory
from a previous initialization of RMM is undefined behavior and should be
avoided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pool_allocator</strong><span class="classifier">bool, default False</span></dt><dd><p>If True, use a pool allocation strategy which can greatly improve
performance.</p>
</dd>
<dt><strong>managed_memory</strong><span class="classifier">bool, default False</span></dt><dd><p>If True, use managed memory for device memory allocation</p>
</dd>
<dt><strong>initial_pool_size</strong><span class="classifier">int, default None</span></dt><dd><p>When <cite>pool_allocator</cite> is True, this indicates the initial pool size in
bytes. By default, 1/2 of the total GPU memory is used.
When <cite>pool_allocator</cite> is False, this argument is ignored if provided.</p>
</dd>
<dt><strong>maximum_pool_size</strong><span class="classifier">int, default None</span></dt><dd><p>When <cite>pool_allocator</cite> is True, this indicates the maximum pool size in
bytes. By default, the total available memory on the GPU is used.
When <cite>pool_allocator</cite> is False, this argument is ignored if provided.</p>
</dd>
<dt><strong>devices</strong><span class="classifier">int or List[int], default 0</span></dt><dd><p>GPU device  IDs to register. By default registers only GPU 0.</p>
</dd>
<dt><strong>logging</strong><span class="classifier">bool, default False</span></dt><dd><p>If True, enable run-time logging of all memory events
(alloc, free, realloc).
This has a significant performance impact.</p>
</dd>
<dt><strong>log_file_name</strong><span class="classifier">str</span></dt><dd><p>Name of the log file. If not specified, the environment variable
<code class="docutils literal notranslate"><span class="pre">RMM_LOG_FILE</span></code> is used. A <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is thrown if neither is
available. A separate log file is produced for each device, and the
suffix <cite>&ldquo;.dev{id}&rdquo;</cite> is automatically added to the log file name.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Note that if you use the environment variable <code class="docutils literal notranslate"><span class="pre">CUDA_VISIBLE_DEVICES</span></code> with
logging enabled, the suffix may not be what you expect. For example, if you
set <code class="docutils literal notranslate"><span class="pre">CUDA_VISIBLE_DEVICES=1</span></code>, the log file produced will still have
suffix <code class="docutils literal notranslate"><span class="pre">0</span></code>. Similarly, if you set <code class="docutils literal notranslate"><span class="pre">CUDA_VISIBLE_DEVICES=1,0</span></code> and use
devices 0 and 1, the log file with suffix <code class="docutils literal notranslate"><span class="pre">0</span></code> will correspond to the GPU
with device ID <code class="docutils literal notranslate"><span class="pre">1</span></code>. Use <cite>rmm.get_log_filenames()</cite> to get the log file
names corresponding to each device.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.rmm_cupy_allocator">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">rmm_cupy_allocator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbytes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.rmm_cupy_allocator" title="Permalink to this definition">&para;</a></dt>
<dd><p>A CuPy allocator that makes use of RMM.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cupy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cupy</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">set_allocator</span><span class="p">(</span><span class="n">rmm</span><span class="o">.</span><span class="n">rmm_cupy_allocator</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.unregister_reinitialize_hook">
<span class="sig-prename descclassname"><span class="pre">rmm.</span></span><span class="sig-name descname"><span class="pre">unregister_reinitialize_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.unregister_reinitialize_hook" title="Permalink to this definition">&para;</a></dt>
<dd><p>Remove <cite>func</cite> from list of hooks that will be called before
<a class="reference internal" href="#rmm.reinitialize" title="rmm.reinitialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">reinitialize()</span></code></a>.</p>
<p>If <cite>func</cite> was registered more than once, every instance of it will
be removed from the list of hooks.</p>
</dd></dl>

</section>
<section id="module-rmm.mr">
<span id="memory-resources"></span><h2>Memory Resources<a class="headerlink" href="#module-rmm.mr" title="Permalink to this heading">&para;</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.BinningMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">BinningMemoryResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int8_t</span> <span class="pre">min_size_exponent=-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int8_t</span> <span class="pre">max_size_exponent=-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.BinningMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Allocates memory from a set of specified &ldquo;bin&rdquo; sizes based on a
specified allocation size.</p>
<p>If min_size_exponent and max_size_exponent are specified, initializes
with one or more FixedSizeMemoryResource bins in the range
<code class="docutils literal notranslate"><span class="pre">[2**min_size_exponent,</span> <span class="pre">2**max_size_exponent]</span></code>.</p>
<p>Call <a class="reference internal" href="#rmm.mr.BinningMemoryResource.add_bin" title="rmm.mr.BinningMemoryResource.add_bin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_bin()</span></code></a> to add additional bin allocators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream_mr</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The memory resource to use for allocations larger than any of the
bins.</p>
</dd>
<dt><strong>min_size_exponent</strong><span class="classifier">size_t</span></dt><dd><p>The base-2 exponent of the minimum size FixedSizeMemoryResource
bin to create.</p>
</dd>
<dt><strong>max_size_exponent</strong><span class="classifier">size_t</span></dt><dd><p>The base-2 exponent of the maximum size FixedSizeMemoryResource
bin to create.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#rmm.mr.BinningMemoryResource.bin_mrs" title="rmm.mr.BinningMemoryResource.bin_mrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bin_mrs</span></code></a></dt><dd><p>Get the list of binned memory resources.</p>
</dd>
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.mr.BinningMemoryResource.add_bin" title="rmm.mr.BinningMemoryResource.add_bin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_bin</span></code></a>(self,&nbsp;size_t&nbsp;allocation_size,&nbsp;...)</p></td>
<td><p>Adds a bin of the specified maximum allocation size to this memory resource.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.BinningMemoryResource.add_bin">
<span class="sig-name descname"><span class="pre">add_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">allocation_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">bin_resource=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.BinningMemoryResource.add_bin" title="Permalink to this definition">&para;</a></dt>
<dd><p>Adds a bin of the specified maximum allocation size to this memory
resource. If specified, uses bin_resource for allocation for this bin.
If not specified, creates and uses a FixedSizeMemoryResource for
allocation for this bin.</p>
<p>Allocations smaller than allocation_size and larger than the next
smaller bin size will use this fixed-size memory resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>allocation_size</strong><span class="classifier">size_t</span></dt><dd><p>The maximum allocation size in bytes for the created bin</p>
</dd>
<dt><strong>bin_resource</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The resource to use for this bin (optional)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rmm.mr.BinningMemoryResource.bin_mrs">
<span class="sig-name descname"><span class="pre">bin_mrs</span></span><a class="headerlink" href="#rmm.mr.BinningMemoryResource.bin_mrs" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get the list of binned memory resources.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.CallbackMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">CallbackMemoryResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deallocate_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.CallbackMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rmm.mr.DeviceMemoryResource" title="rmm._lib.memory_resource.DeviceMemoryResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceMemoryResource</span></code></a></p>
<p>A memory resource that uses the user-provided callables to do
memory allocation and deallocation.</p>
<p><code class="docutils literal notranslate"><span class="pre">CallbackMemoryResource</span></code> should really only be used for
debugging memory issues, as there is a significant performance
penalty associated with using a Python function for each memory
allocation and deallocation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>allocate_func: callable</strong></dt><dd><p>The allocation function must accept a single integer argument,
representing the number of bytes to allocate, and return an
integer representing the pointer to the allocated memory.</p>
</dd>
<dt><strong>deallocate_func: callable</strong></dt><dd><p>The deallocation function must accept two arguments, an integer
representing the pointer to the memory to free, and a second
integer representing the number of bytes to free.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_mr</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">mr</span><span class="o">.</span><span class="n">CudaMemoryResource</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">allocate_func</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Allocating </span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s2"> bytes"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">base_mr</span><span class="o">.</span><span class="n">allocate</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">deallocate_func</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Deallocating </span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s2"> bytes"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">base_mr</span><span class="o">.</span><span class="n">deallocate</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmm</span><span class="o">.</span><span class="n">mr</span><span class="o">.</span><span class="n">set_current_device_resource</span><span class="p">(</span>
<span class="go">    rmm.mr.CallbackMemoryResource(allocate_func, deallocate_func)</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbuf</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">DeviceBuffer</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
<span class="go">Allocating 256 bytes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">dbuf</span>
<span class="go">Deallocating 256 bytes</span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.CudaAsyncMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">CudaAsyncMemoryResource</span></span><a class="headerlink" href="#rmm.mr.CudaAsyncMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rmm.mr.DeviceMemoryResource" title="rmm._lib.memory_resource.DeviceMemoryResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceMemoryResource</span></code></a></p>
<p>Memory resource that uses <code class="docutils literal notranslate"><span class="pre">cudaMallocAsync</span></code>/<code class="docutils literal notranslate"><span class="pre">cudaFreeAsync</span></code> for
allocation/deallocation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>initial_pool_size</strong><span class="classifier">int, optional</span></dt><dd><p>Initial pool size in bytes. By default, half the available memory
on the device is used.</p>
</dd>
<dt><strong>release_threshold: int, optional</strong></dt><dd><p>Release threshold in bytes. If the pool size grows beyond this
value, unused memory held by the pool will be released at the
next synchronization point.</p>
</dd>
<dt><strong>enable_ipc: bool, optional</strong></dt><dd><p>If True, enables export of POSIX file descriptor handles for the memory
allocated by this resource so that it can be used with CUDA IPC.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.CudaMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">CudaMemoryResource</span></span><a class="headerlink" href="#rmm.mr.CudaMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rmm.mr.DeviceMemoryResource" title="rmm._lib.memory_resource.DeviceMemoryResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceMemoryResource</span></code></a></p>
<p>Memory resource that uses <code class="docutils literal notranslate"><span class="pre">cudaMalloc</span></code>/<code class="docutils literal notranslate"><span class="pre">cudaFree</span></code> for
allocation/deallocation.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.DeviceMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">DeviceMemoryResource</span></span><a class="headerlink" href="#rmm.mr.DeviceMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.mr.DeviceMemoryResource.allocate" title="rmm.mr.DeviceMemoryResource.allocate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code></a>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.mr.DeviceMemoryResource.deallocate" title="rmm.mr.DeviceMemoryResource.deallocate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code></a>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.DeviceMemoryResource.allocate">
<span class="sig-name descname"><span class="pre">allocate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">nbytes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.DeviceMemoryResource.allocate" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.DeviceMemoryResource.deallocate">
<span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uintptr_t</span> <span class="pre">ptr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">nbytes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.DeviceMemoryResource.deallocate" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.FailureCallbackResourceAdaptor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">FailureCallbackResourceAdaptor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.FailureCallbackResourceAdaptor" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Memory resource that call callback when memory allocation fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The upstream memory resource.</p>
</dd>
<dt><strong>callback</strong><span class="classifier">callable</span></dt><dd><p>Function called when memory allocation fails.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.FixedSizeMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">FixedSizeMemoryResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">block_size=1048576</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">blocks_to_preallocate=128</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.FixedSizeMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Memory resource which allocates memory blocks of a single fixed size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream_mr</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The DeviceMemoryResource from which to allocate blocks for the
pool.</p>
</dd>
<dt><strong>block_size</strong><span class="classifier">int, optional</span></dt><dd><p>The size of blocks to allocate (default is 1MiB).</p>
</dd>
<dt><strong>blocks_to_preallocate</strong><span class="classifier">int, optional</span></dt><dd><p>The number of blocks to allocate to initialize the pool.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Supports only allocations of size smaller than the configured
block_size.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.LoggingResourceAdaptor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">LoggingResourceAdaptor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file_name=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.LoggingResourceAdaptor" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Memory resource that logs information about allocations/deallocations
performed by an upstream memory resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The upstream memory resource.</p>
</dd>
<dt><strong>log_file_name</strong><span class="classifier">str</span></dt><dd><p>Path to the file to which logs are written.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.mr.LoggingResourceAdaptor.flush" title="rmm.mr.LoggingResourceAdaptor.flush"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush</span></code></a>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.mr.LoggingResourceAdaptor.get_file_name" title="rmm.mr.LoggingResourceAdaptor.get_file_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_file_name</span></code></a>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.LoggingResourceAdaptor.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.LoggingResourceAdaptor.flush" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.LoggingResourceAdaptor.get_file_name">
<span class="sig-name descname"><span class="pre">get_file_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.LoggingResourceAdaptor.get_file_name" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.ManagedMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">ManagedMemoryResource</span></span><a class="headerlink" href="#rmm.mr.ManagedMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rmm.mr.DeviceMemoryResource" title="rmm._lib.memory_resource.DeviceMemoryResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceMemoryResource</span></code></a></p>
<p>Memory resource that uses <code class="docutils literal notranslate"><span class="pre">cudaMallocManaged</span></code>/<code class="docutils literal notranslate"><span class="pre">cudaFree</span></code> for
allocation/deallocation.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.PoolMemoryResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">PoolMemoryResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_pool_size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum_pool_size=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.PoolMemoryResource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Coalescing best-fit suballocator which uses a pool of memory allocated
from an upstream memory resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream_mr</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The DeviceMemoryResource from which to allocate blocks for the
pool.</p>
</dd>
<dt><strong>initial_pool_size</strong><span class="classifier">int, optional</span></dt><dd><p>Initial pool size in bytes. By default, half the available memory
on the device is used.</p>
</dd>
<dt><strong>maximum_pool_size</strong><span class="classifier">int, optional</span></dt><dd><p>Maximum size in bytes, that the pool can grow to.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.mr.PoolMemoryResource.pool_size" title="rmm.mr.PoolMemoryResource.pool_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pool_size</span></code></a>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.PoolMemoryResource.pool_size">
<span class="sig-name descname"><span class="pre">pool_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.PoolMemoryResource.pool_size" title="Permalink to this definition">&para;</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.StatisticsResourceAdaptor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">StatisticsResourceAdaptor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.StatisticsResourceAdaptor" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Memory resource that tracks the current, peak and total
allocations/deallocations performed by an upstream memory resource.
Includes the ability to query these statistics at any time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The upstream memory resource.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference internal" href="#rmm.mr.StatisticsResourceAdaptor.allocation_counts" title="rmm.mr.StatisticsResourceAdaptor.allocation_counts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocation_counts</span></code></a></dt><dd><p>Gets the current, peak, and total allocated bytes and number of allocations.</p>
</dd>
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="rmm.mr.StatisticsResourceAdaptor.allocation_counts">
<span class="sig-name descname"><span class="pre">allocation_counts</span></span><a class="headerlink" href="#rmm.mr.StatisticsResourceAdaptor.allocation_counts" title="Permalink to this definition">&para;</a></dt>
<dd><p>Gets the current, peak, and total allocated bytes and number of
allocations.</p>
<p>The dictionary keys are <code class="docutils literal notranslate"><span class="pre">current_bytes</span></code>, <code class="docutils literal notranslate"><span class="pre">current_count</span></code>,
<code class="docutils literal notranslate"><span class="pre">peak_bytes</span></code>, <code class="docutils literal notranslate"><span class="pre">peak_count</span></code>, <code class="docutils literal notranslate"><span class="pre">total_bytes</span></code>, and <code class="docutils literal notranslate"><span class="pre">total_count</span></code>.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>dict: Dictionary containing allocation counts and bytes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rmm.mr.TrackingResourceAdaptor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">TrackingResourceAdaptor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">upstream_mr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span> <span class="pre">capture_stacks=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.TrackingResourceAdaptor" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UpstreamResourceAdaptor</span></code></p>
<p>Memory resource that logs tracks allocations/deallocations
performed by an upstream memory resource. Includes the ability to
query all outstanding allocations with the stack trace, if desired.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>upstream</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The upstream memory resource.</p>
</dd>
<dt><strong>capture_stacks</strong><span class="classifier">bool</span></dt><dd><p>Whether or not to capture the stack trace with each allocation.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>upstream_mr</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%">
<col style="width: 90%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(self,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">deallocate</span></code>(self,&nbsp;uintptr_t&nbsp;ptr,&nbsp;size_t&nbsp;nbytes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor.get_allocated_bytes" title="rmm.mr.TrackingResourceAdaptor.get_allocated_bytes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_allocated_bytes</span></code></a>(self)</p></td>
<td><p>Query the number of bytes that have been allocated.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor.get_outstanding_allocations_str" title="rmm.mr.TrackingResourceAdaptor.get_outstanding_allocations_str"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_outstanding_allocations_str</span></code></a>(self)</p></td>
<td><p>Returns a string containing information about the current outstanding allocations.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_upstream</span></code>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rmm.mr.TrackingResourceAdaptor.log_outstanding_allocations" title="rmm.mr.TrackingResourceAdaptor.log_outstanding_allocations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_outstanding_allocations</span></code></a>(self)</p></td>
<td><p>Logs the output of <cite>get_outstanding_allocations_str</cite> to the current RMM log file if enabled.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.TrackingResourceAdaptor.get_allocated_bytes">
<span class="sig-name descname"><span class="pre">get_allocated_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><span class="pre">size_t</span></span></span><a class="headerlink" href="#rmm.mr.TrackingResourceAdaptor.get_allocated_bytes" title="Permalink to this definition">&para;</a></dt>
<dd><p>Query the number of bytes that have been allocated. Note that this can
not be used to know how large of an allocation is possible due to both
possible fragmentation and also internal page sizes and alignment that
is not tracked by this allocator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.TrackingResourceAdaptor.get_outstanding_allocations_str">
<span class="sig-name descname"><span class="pre">get_outstanding_allocations_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#rmm.mr.TrackingResourceAdaptor.get_outstanding_allocations_str" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a string containing information about the current outstanding
allocations. For each allocation, the address, size and optional
stack trace are shown.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rmm.mr.TrackingResourceAdaptor.log_outstanding_allocations">
<span class="sig-name descname"><span class="pre">log_outstanding_allocations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.TrackingResourceAdaptor.log_outstanding_allocations" title="Permalink to this definition">&para;</a></dt>
<dd><p>Logs the output of <cite>get_outstanding_allocations_str</cite> to the current
RMM log file if enabled.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.disable_logging">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">disable_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.disable_logging" title="Permalink to this definition">&para;</a></dt>
<dd><p>Disable logging if it was enabled previously using
<cite>rmm.initialize()</cite> or <cite>rmm.enable_logging()</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.enable_logging">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">enable_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.enable_logging" title="Permalink to this definition">&para;</a></dt>
<dd><p>Enable logging of run-time events for all devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>log_file_name:  str, optional</strong></dt><dd><p>Name of the log file. If not specified, the environment variable
RMM_LOG_FILE is used. A ValueError is thrown if neither is available.
A separate log file is produced for each device,
and the suffix <cite>&ldquo;.dev{id}&rdquo;</cite> is automatically added to the log file
name.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Note that if you use the environment variable CUDA_VISIBLE_DEVICES
with logging enabled, the suffix may not be what you expect. For
example, if you set CUDA_VISIBLE_DEVICES=1, the log file produced
will still have suffix <cite>0</cite>. Similarly, if you set
CUDA_VISIBLE_DEVICES=1,0 and use devices 0 and 1, the log file
with suffix <cite>0</cite> will correspond to the GPU with device ID <cite>1</cite>.
Use <cite>rmm.get_log_filenames()</cite> to get the log file names
corresponding to each device.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.get_current_device_resource">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">get_current_device_resource</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&rarr;</span> <span class="sig-return-typehint"><a class="reference internal" href="#rmm.mr.DeviceMemoryResource" title="rmm.mr.DeviceMemoryResource"><span class="pre">DeviceMemoryResource</span></a></span></span><a class="headerlink" href="#rmm.mr.get_current_device_resource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get the memory resource used for RMM device allocations on the current
device.</p>
<p>If the returned memory resource is used when a different device is the
active CUDA device, behavior is undefined.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.get_current_device_resource_type">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">get_current_device_resource_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.get_current_device_resource_type" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get the memory resource type used for RMM device allocations on the
current device.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.get_log_filenames">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">get_log_filenames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.get_log_filenames" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the log filename (or <cite>None</cite> if not writing logs)
for each device in use.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rmm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmm</span><span class="o">.</span><span class="n">reinitialize</span><span class="p">(</span><span class="n">devices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">logging</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_file_name</span><span class="o">=</span><span class="s2">"rmm.log"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmm</span><span class="o">.</span><span class="n">get_log_filenames</span><span class="p">()</span>
<span class="go">{0: '/home/user/workspace/rapids/rmm/python/rmm.dev0.log',</span>
<span class="go"> 1: '/home/user/workspace/rapids/rmm/python/rmm.dev1.log'}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.get_per_device_resource">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">get_per_device_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span> <span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.get_per_device_resource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get the default memory resource for the specified device.</p>
<p>If the returned memory resource is used when a different device is the
active CUDA device, behavior is undefined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>device</strong><span class="classifier">int</span></dt><dd><p>The ID of the device for which to get the memory resource.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.get_per_device_resource_type">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">get_per_device_resource_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span> <span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.get_per_device_resource_type" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get the memory resource type used for RMM device allocations on the
specified device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>device</strong><span class="classifier">int</span></dt><dd><p>The device ID</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.is_initialized">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">is_initialized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.is_initialized" title="Permalink to this definition">&para;</a></dt>
<dd><p>Check whether RMM is initialized</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.set_current_device_resource">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">set_current_device_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">mr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.set_current_device_resource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Set the default memory resource for the current device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mr</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The memory resource to set. Must have been created while the current
device is the active CUDA device.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rmm.mr.set_per_device_resource">
<span class="sig-prename descclassname"><span class="pre">rmm.mr.</span></span><span class="sig-name descname"><span class="pre">set_per_device_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span> <span class="pre">device</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DeviceMemoryResource</span> <span class="pre">mr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rmm.mr.set_per_device_resource" title="Permalink to this definition">&para;</a></dt>
<dd><p>Set the default memory resource for the specified device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>device</strong><span class="classifier">int</span></dt><dd><p>The ID of the device for which to get the memory resource.</p>
</dd>
<dt><strong>mr</strong><span class="classifier">DeviceMemoryResource</span></dt><dd><p>The memory resource to set.  Must have been created while device was
the active CUDA device.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
        <a accesskey="p" class="btn btn-neutral float-left" href="basics.html" rel="prev" title="RMM - the RAPIDS Memory Manager"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>&copy; Copyright 2020-2023, NVIDIA.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 


<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script><script id="rapids-selector-pixel-invocation" type="text/javascript">_satellite.pageBottom();</script></body></html>