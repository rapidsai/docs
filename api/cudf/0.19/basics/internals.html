
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cuDF internals &#8212; cudf 0.20.0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/params.css" />
    <link rel="stylesheet" type="text/css" href="https://docs.rapids.ai/assets/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/copybutton_pydocs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API reference" href="../api_docs/index.html" />
    <link rel="prev" title="Multi-GPU with Dask-cuDF" href="dask-cudf.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/RAPIDS-logo-purple.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="ml-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Basics
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api_docs/index.html">
  API reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/rapidsai/cudf" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/rapidsai" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="basics.html">
   Basics
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="io.html">
   Input / Output
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="io-supported-types.html">
     I/O Supported dtypes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="groupby.html">
   GroupBy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dask-cudf.html">
   Multi-GPU with Dask-cuDF
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   cuDF internals
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#column">
   Column
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#buffer">
   Buffer
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#columnaccessor">
   ColumnAccessor
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="cudf-internals">
<h1>cuDF internals<a class="headerlink" href="#cudf-internals" title="Permalink to this headline">¶</a></h1>
<p>The cuDF API closely matches that of the <a class="reference external" href="https://pandas.pydata.org/">Pandas</a> library.
Thus, we have the types <code class="docutils literal notranslate"><span class="pre">cudf.Series</span></code>, <code class="docutils literal notranslate"><span class="pre">cudf.DataFrame</span></code> and <code class="docutils literal notranslate"><span class="pre">cudf.Index</span></code> which look and
feel very much like their Pandas counterparts.</p>
<p>Under the hood, however, cuDF uses data structures very different from Pandas. In this document,
we describe these internal data structures.</p>
<div class="section" id="column">
<h2>Column<a class="headerlink" href="#column" title="Permalink to this headline">¶</a></h2>
<p>Columns are cuDF’s core data structure and they are modeled after
the <a class="reference external" href="https://arrow.apache.org/docs/format/Columnar.html">Apache Arrow Columnar Format</a>.</p>
<p>A column represents a sequence of values, any number of which may be “null”. Columns are
specialized based on the type of data they contain. Thus we have <code class="docutils literal notranslate"><span class="pre">NumericalColumn</span></code>, <code class="docutils literal notranslate"><span class="pre">StringColumn</span></code>,
<code class="docutils literal notranslate"><span class="pre">DatetimeColumn</span></code>, etc.,</p>
<p>A column is composed of the following:</p>
<ul class="simple">
<li><p>A <strong>data type</strong>, specifying the type of each element.</p></li>
<li><p>A <strong>data buffer</strong> that may store the data for the column elements.
Some column types do not have a data buffer, instead storing data in the children columns.</p></li>
<li><p>A <strong>mask buffer</strong> whose bits represent the validity (null or not null) of each element.
Columns whose elements are all “valid” may not have a mask buffer. Mask buffers are padded
to 64 bytes.</p></li>
<li><p>A tuple of <strong>children</strong> columns, which enable the representation complex types such as
columns with non-fixed width elements such as strings or lists.</p></li>
<li><p>A <strong>size</strong> indicating the number of elements in the column.</p></li>
<li><p>An integer <strong>offset</strong>: a column may represent a “slice” of another column,
in which case this offset represents the first element of the slice. The size of
the column then gives the extent of the slice. A column that is not a slice
has an offset of 0.</p></li>
</ul>
<p>For example, the <code class="docutils literal notranslate"><span class="pre">NumericalColumn</span></code> backing a Series with 1000 elements of type ‘int32’
and containing nulls is composed of:</p>
<ol class="simple">
<li><p>A data buffer of size 4000 bytes (sizeof(int32) * 1000)</p></li>
<li><p>A mask buffer of size 128 bytes (1000/8 padded to a multiple of 64 bytes)</p></li>
<li><p>No children columns</p></li>
</ol>
<p>As another example, the <code class="docutils literal notranslate"><span class="pre">StringColumn</span></code> backing the Series
<code class="docutils literal notranslate"><span class="pre">['do',</span> <span class="pre">'you',</span> <span class="pre">'have',</span> <span class="pre">'any',</span> <span class="pre">'cheese?']</span></code> is composed of:</p>
<ol class="simple">
<li><p>No data buffer</p></li>
<li><p>No mask buffer as there are no nulls in the Series</p></li>
<li><p>Two children columns:</p>
<ul class="simple">
<li><p>A column of 8-bit characters <code class="docutils literal notranslate"><span class="pre">['d',</span> <span class="pre">'o',</span> <span class="pre">'y',</span> <span class="pre">'o',</span> <span class="pre">'u',</span> <span class="pre">h'</span> <span class="pre">...</span> <span class="pre">'?']</span></code></p></li>
<li><p>A column of “offsets” to the characters column (in this case, <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">2,</span> <span class="pre">5,</span> <span class="pre">9,</span> <span class="pre">12,</span> <span class="pre">19]</span></code>)</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="buffer">
<h2>Buffer<a class="headerlink" href="#buffer" title="Permalink to this headline">¶</a></h2>
<p>The data and mask buffers of a column represent data in GPU memory (a.k.a <em>device memory</em>),
and are object of type <code class="docutils literal notranslate"><span class="pre">cudf.core.buffer.Buffer</span></code>.</p>
<p>Buffers can be constructed from array-like objects that live either on the host (e.g., numpy arrays)
or the device (e.g., cupy arrays). Arrays must be of <code class="docutils literal notranslate"><span class="pre">uint8</span></code> dtype or viewed as such.</p>
<p>When constructing a Buffer from a host object such as a numpy array, new device memory is allocated:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cudf.core.buffer</span> <span class="kn">import</span> <span class="n">Buffer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="s2">&quot;uint8&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>  <span class="c1"># address of new device memory allocation</span>
<span class="go">140050901762560</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="go">24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">_owner</span><span class="p">)</span>
<span class="go">&lt;rmm._lib.device_buffer.DeviceBuffer object at 0x7f6055baab50&gt;</span>
</pre></div>
</div>
<p>cuDF uses the <a class="reference external" href="https://github.com/rapidsai/rmm">RMM</a> library for allocating device memory.
You can read more about device memory allocation with RMM
<a class="reference external" href="https://github.com/rapidsai/rmm#devicebuffers">here</a>.</p>
<p>When constructing a Buffer from a device object such as a CuPy array, no new device memory is
allocated. Instead, the Buffer points to the existing allocation, keeping a reference to the device
array:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cupy</span> <span class="k">as</span> <span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_ary</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span><span class="n">c_ary</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="s2">&quot;uint8&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">c_ary</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">mem</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
<span class="go">140050901762560</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
<span class="go">140050901762560</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="go">24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">_owner</span> <span class="ow">is</span> <span class="n">c_ary</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>An uninitialized block of device memory can be allocated with <code class="docutils literal notranslate"><span class="pre">Buffer.empty</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">_owner</span><span class="p">)</span>
<span class="go">&lt;rmm._lib.device_buffer.DeviceBuffer object at 0x7f6055baa890&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="columnaccessor">
<h2>ColumnAccessor<a class="headerlink" href="#columnaccessor" title="Permalink to this headline">¶</a></h2>
<p>cuDF  <code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> and <code class="docutils literal notranslate"><span class="pre">Index</span></code> are all subclasses of an internal <code class="docutils literal notranslate"><span class="pre">Frame</span></code> class.
The underlying data structure of <code class="docutils literal notranslate"><span class="pre">Frame</span></code> is an ordered, dictionary-like object
known as <code class="docutils literal notranslate"><span class="pre">ColumnAccessor</span></code>, which can be accessed via the <code class="docutils literal notranslate"><span class="pre">._data</span></code> attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">cudf</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">_data</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;x&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d12e050&gt;), (&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d12e320&gt;)]), multiindex=False, level_names=(None,))</span>
</pre></div>
</div>
<p>ColumnAccessor is an ordered mapping of column labels to columns. In addition to behaving
like an OrderedDict, it supports things like selecting multiple columns (both by index and label), as well as hierarchical indexing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cudf.core.column_accessor</span> <span class="kn">import</span> <span class="n">ColumnAccessor</span>
</pre></div>
</div>
<p>The values of a ColumnAccessor are coerced to Columns during construction:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span> <span class="o">=</span> <span class="n">ColumnAccessor</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="go">&lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5789e0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="go">&lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578b90&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">&lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5789e0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578b90&gt;)]), multiindex=False, level_names=(None,))</span>
</pre></div>
</div>
<p>Columns can be inserted at a specified location:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;x&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d578dd0&gt;), (&#39;z&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d578680&gt;), (&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d12e3b0&gt;)]), multiindex=False, level_names=(None,))</span>
</pre></div>
</div>
<p>Selecting columns by index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span> <span class="o">=</span> <span class="n">ColumnAccessor</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578830&gt;)]), multiindex=False, level_names=(None,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;x&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5789e0&gt;), (&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578830&gt;)]), multiindex=False, level_names=(None,))    </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578830&gt;), (&#39;z&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5788c0&gt;)]), multiindex=False, level_names=(None,))</span>
</pre></div>
</div>
<p>Selecting columns by label:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_label</span><span class="p">([</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">])</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578830&gt;), (&#39;z&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5788c0&gt;)]), multiindex=False, level_names=(None,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_label</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">))</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;x&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5789e0&gt;), (&#39;y&#39;, &lt;cudf.core.column.string.StringColumn object at 0x7f5a7d578830&gt;)]), multiindex=False, level_names=(None,))</span>
</pre></div>
</div>
<p>A ColumnAccessor with tuple keys (and constructed with <code class="docutils literal notranslate"><span class="pre">multiindex=True</span></code>)
can be hierarchically indexed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span> <span class="o">=</span> <span class="n">ColumnAccessor</span><span class="p">({(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">):</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="n">multiindex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_label</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">ColumnAccessor(OrderedColumnDict([(&#39;b&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5789e0&gt;), (&#39;c&#39;, &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d578dd0&gt;)]), multiindex=False, level_names=(None,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_label</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="go">ColumnAccessor(OrderedColumnDict([((&#39;a&#39;, &#39;b&#39;), &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d5789e0&gt;)]), multiindex=False, level_names=(None,))</span>
</pre></div>
</div>
<p>“Wildcard” indexing is also allowed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span> <span class="o">=</span> <span class="n">ColumnAccessor</span><span class="p">({(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">):</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="n">multiindex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">select_by_label</span><span class="p">((</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="go">ColumnAccessor(OrderedColumnDict([((&#39;a&#39;, &#39;b&#39;), &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d578830&gt;), ((&#39;d&#39;, &#39;b&#39;), &lt;cudf.core.column.numerical.NumericalColumn object at 0x7f5a7d578680&gt;)]), multiindex=True, level_names=(None, None))</span>
</pre></div>
</div>
<p>Finally, ColumnAccessors can convert to Pandas <code class="docutils literal notranslate"><span class="pre">Index</span></code> or <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> objects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ca</span><span class="o">.</span><span class="n">to_pandas_index</span><span class="p">()</span>
<span class="go">MultiIndex([(&#39;a&#39;, &#39;b&#39;),</span>
<span class="go">            (&#39;a&#39;, &#39;c&#39;),</span>
<span class="go">            (&#39;d&#39;, &#39;b&#39;)],</span>
<span class="go">           )</span>
</pre></div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="dask-cudf.html" title="previous page">Multi-GPU with Dask-cuDF</a>
    <a class='right-next' id="next-link" href="../api_docs/index.html" title="next page">API reference</a>

              </div>
              
          </main>
          

      </div>
    </div>
    
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2018-2021, NVIDIA.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.4.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>